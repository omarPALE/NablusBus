var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}function r(e,t,r,i){return new(r||(r=Promise))((function(n,s){function a(e){try{c(i.next(e))}catch(e){s(e)}}function o(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,o)}c((i=i.apply(e,t||[])).next())}))}function i(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function n(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}function a(e,t,r){if(r||2===arguments.length)for(var i,n=0,s=t.length;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function o(e){return this instanceof o?(this.v=e,this):new o(e)}function c(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||c(e,t)}))})}function c(e,t){try{!function(e){e.value instanceof o?Promise.resolve(e.value.v).then(l,d):u(s[0][2],e)}(n[e](t))}catch(e){u(s[0][3],e)}}function l(e){c("next",e)}function d(e){c("throw",e)}function u(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}}function l(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=n(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){(function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)})(i,n,(t=e[r](t)).done,t.value)}))}}}function d(e){return"function"==typeof e}function u(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var h=u((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function p(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var f=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,i,o;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var l=n(c),u=l.next();!u.done;u=l.next()){u.value.remove(this)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else c.remove(this);var p=this.initialTeardown;if(d(p))try{p()}catch(e){o=e instanceof h?e.errors:[e]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var y=n(f),m=y.next();!m.done;m=y.next()){var w=m.value;try{g(w)}catch(e){o=o??[],e instanceof h?o=a(a([],s(o)),s(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}}if(o)throw new h(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)g(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&p(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&p(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),y=f.EMPTY;function m(e){return e instanceof f||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function g(e){d(e)?e():e.unsubscribe()}var w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=v.delegate;return null!=n&&n.setTimeout?n.setTimeout.apply(n,a([e,t],s(r))):setTimeout.apply(void 0,a([e,t],s(r)))},clearTimeout:function(e){var t=v.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function b(e){v.setTimeout((function(){var t=w.onUnhandledError;if(!t)throw e;t(e)}))}function k(){}var S=C("C",void 0,void 0);function C(e,t,r){return{kind:e,value:t,error:r}}var T=null;function E(e){if(w.useDeprecatedSynchronousErrorHandling){var t=!T;if(t&&(T={errorThrown:!1,error:null}),e(),t){var r=T,i=r.errorThrown,n=r.error;if(T=null,i)throw n}}else e()}var I=function(e){function r(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,m(t)&&t.add(r)):r.destination=M,r}return t(r,e),r.create=function(e,t,r){return new _(e,t,r)},r.prototype.next=function(e){this.isStopped?D(function(e){return C("N",e,void 0)}(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?D(function(e){return C("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?D(S,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(f),x=Function.prototype.bind;function F(e,t){return x.call(e,t)}var R=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){P(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){P(e)}else P(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){P(e)}},e}(),_=function(e){function r(t,r,i){var n,s,a=e.call(this)||this;d(t)||!t?n={next:t??void 0,error:r??void 0,complete:i??void 0}:a&&w.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},n={next:t.next&&F(t.next,s),error:t.error&&F(t.error,s),complete:t.complete&&F(t.complete,s)}):n=t;return a.destination=new R(n),a}return t(r,e),r}(I);function P(e){w.useDeprecatedSynchronousErrorHandling?function(e){w.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=e)}(e):b(e)}function D(e,t){var r=w.onStoppedNotification;r&&v.setTimeout((function(){return r(e,t)}))}var M={closed:!0,next:k,error:function(e){throw e},complete:k},A="function"==typeof Symbol&&Symbol.observable||"@@observable";function q(e){return e}function O(e){return 0===e.length?q:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var N=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i=this,n=function(e){return e&&e instanceof I||function(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}(e)&&m(e)}(e)?e:new _(e,t,r);return E((function(){var e=i,t=e.operator,r=e.source;n.add(t?t.call(n,r):r?i._subscribe(n):i._trySubscribe(n))})),n},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=L(t))((function(t,i){var n=new _({next:function(t){try{e(t)}catch(e){i(e),n.unsubscribe()}},error:i,complete:t});r.subscribe(n)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[A]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=L(e))((function(e,r){var i;t.subscribe((function(e){return i=e}),(function(e){return r(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function L(e){var t;return null!==(t=e??w.Promise)&&void 0!==t?t:Promise}function B(e){return function(t){if(function(e){return d(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function j(e,t,r,i,n){return new H(e,t,r,i,n)}var H=function(e){function r(t,r,i,n,s,a){var o=e.call(this,t)||this;return o.onFinalize=s,o.shouldUnsubscribe=a,o._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=n?function(e){try{n(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return t(r,e),r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},r}(I),$=u((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),K=function(e){function r(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return t(r,e),r.prototype.lift=function(e){var t=new V(this,this);return t.operator=e,t},r.prototype._throwIfClosed=function(){if(this.closed)throw new $},r.prototype.next=function(e){var t=this;E((function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=n(t.currentObservers),a=s.next();!a.done;a=s.next()){a.value.next(e)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}}))},r.prototype.error=function(e){var t=this;E((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},r.prototype.complete=function(){var e=this;E((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var t=this,r=this,i=r.hasError,n=r.isStopped,s=r.observers;return i||n?y:(this.currentObservers=null,s.push(e),new f((function(){t.currentObservers=null,p(s,e)})))},r.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,i=t.thrownError,n=t.isStopped;r?e.error(i):n&&e.complete()},r.prototype.asObservable=function(){var e=new N;return e.source=this,e},r.create=function(e,t){return new V(e,t)},r}(N),V=function(e){function r(t,r){var i=e.call(this)||this;return i.destination=t,i.source=r,i}return t(r,e),r.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},r.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},r.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},r.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:y},r}(K),W={now:function(){return(W.delegate||Date).now()},delegate:void 0},z=function(e){function r(t,r,i){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===i&&(i=W);var n=e.call(this)||this;return n._bufferSize=t,n._windowTime=r,n._timestampProvider=i,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=r===1/0,n._bufferSize=Math.max(1,t),n._windowTime=Math.max(1,r),n}return t(r,e),r.prototype.next=function(t){var r=this,i=r.isStopped,n=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,o=r._windowTime;i||(n.push(t),!s&&n.push(a.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,i=this._buffer.slice(),n=0;n<i.length&&!e.closed;n+=r?1:2)e.next(i[n]);return this._checkFinalizedStatuses(e),t},r.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,i=e._buffer,n=e._infiniteTimeWindow,s=(n?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!n){for(var a=r.now(),o=0,c=1;c<i.length&&i[c]<=a;c+=2)o=c;o&&i.splice(0,o+1)}},r}(K),U=function(e){function r(t,r){return e.call(this)||this}return t(r,e),r.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},r}(f),G={setInterval:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=G.delegate;return null!=n&&n.setInterval?n.setInterval.apply(n,a([e,t],s(r))):setInterval.apply(void 0,a([e,t],s(r)))},clearInterval:function(e){var t=G.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Q=function(e){function r(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return t(r,e),r.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(n,this.id,t),this},r.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),G.setInterval(e.flush.bind(e,this),r)},r.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&G.clearInterval(t)},r.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,t){var r,i=!1;try{this.work(e)}catch(e){i=!0,r=e||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r},r.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,p(i,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},r}(U),J=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=W.now,e}(),X=new(function(e){function r(t,r){void 0===r&&(r=J.now);var i=e.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return t(r,e),r.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},r}(J))(Q),Y=X,Z=new N((function(e){return e.complete()}));function ee(e){return e&&d(e.schedule)}function te(e){return e[e.length-1]}function re(e){return ee(te(e))?e.pop():void 0}var ie=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ne(e){return d(null==e?void 0:e.then)}function se(e){return d(e[A])}function ae(e){return Symbol.asyncIterator&&d(null==e?void 0:e[Symbol.asyncIterator])}function oe(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ce="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function le(e){return d(null==e?void 0:e[ce])}function de(e){return c(this,arguments,(function(){var t,r,n;return i(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,o(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,o(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,o(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function ue(e){return d(null==e?void 0:e.getReader)}function he(e){if(e instanceof N)return e;if(null!=e){if(se(e))return function(e){return new N((function(t){var r=e[A]();if(d(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(ie(e))return function(e){return new N((function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()}))}(e);if(ne(e))return function(e){return new N((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,b)}))}(e);if(ae(e))return pe(e);if(le(e))return function(e){return new N((function(t){var r,i;try{for(var s=n(e),a=s.next();!a.done;a=s.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}t.complete()}))}(e);if(ue(e))return function(e){return pe(de(e))}(e)}throw oe(e)}function pe(e){return new N((function(t){(function(e,t){var n,s,a,o;return r(this,void 0,void 0,(function(){var r,c;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),n=l(e),i.label=1;case 1:return[4,n.next()];case 2:if((s=i.sent()).done)return[3,4];if(r=s.value,t.next(r),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=i.sent(),a={error:c},[3,11];case 6:return i.trys.push([6,,9,10]),s&&!s.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function fe(e,t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var s=t.schedule((function(){r(),n?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(s),!n)return s}function ye(e,t){return void 0===t&&(t=0),B((function(r,i){r.subscribe(j(i,(function(r){return fe(i,e,(function(){return i.next(r)}),t)}),(function(){return fe(i,e,(function(){return i.complete()}),t)}),(function(r){return fe(i,e,(function(){return i.error(r)}),t)})))}))}function me(e,t){return void 0===t&&(t=0),B((function(r,i){i.add(e.schedule((function(){return r.subscribe(i)}),t))}))}function ge(e,t){if(!e)throw new Error("Iterable cannot be null");return new N((function(r){fe(r,t,(function(){var i=e[Symbol.asyncIterator]();fe(r,t,(function(){i.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function we(e,t){if(null!=e){if(se(e))return function(e,t){return he(e).pipe(me(t),ye(t))}(e,t);if(ie(e))return function(e,t){return new N((function(r){var i=0;return t.schedule((function(){i===e.length?r.complete():(r.next(e[i++]),r.closed||this.schedule())}))}))}(e,t);if(ne(e))return function(e,t){return he(e).pipe(me(t),ye(t))}(e,t);if(ae(e))return ge(e,t);if(le(e))return function(e,t){return new N((function(r){var i;return fe(r,t,(function(){i=e[ce](),fe(r,t,(function(){var e,t,n;try{t=(e=i.next()).value,n=e.done}catch(e){return void r.error(e)}n?r.complete():r.next(t)}),0,!0)})),function(){return d(null==i?void 0:i.return)&&i.return()}}))}(e,t);if(ue(e))return function(e,t){return ge(de(e),t)}(e,t)}throw oe(e)}function ve(e,t){return t?we(e,t):he(e)}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ve(e,re(e))}var ke=u((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Se(e,t){var r="object"==typeof t;return new Promise((function(i,n){var s=new _({next:function(e){i(e),s.unsubscribe()},error:n,complete:function(){r?i(t.defaultValue):n(new ke)}});e.subscribe(s)}))}function Ce(e,t){return B((function(r,i){var n=0;r.subscribe(j(i,(function(r){i.next(e.call(t,r,n++))})))}))}var Te=Array.isArray;function Ee(e){return Ce((function(t){return function(e,t){return Te(t)?e.apply(void 0,a([],s(t))):e(t)}(e,t)}))}Array.isArray,Object.getPrototypeOf,Object.prototype,Object.keys;function Ie(e,t,r,i,n,s,a,o){var c=[],l=0,d=0,u=!1,h=function(){u&&!c.length&&!l&&t.complete()},p=function(e){return l<i?f(e):c.push(e)},f=function(e){s&&t.next(e),l++;var o=!1;he(r(e,d++)).subscribe(j(t,(function(e){null==n||n(e),s?p(e):t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{l--;for(var e=function(){var e=c.shift();a?fe(t,a,(function(){return f(e)})):f(e)};c.length&&l<i;)e();h()}catch(e){t.error(e)}})))};return e.subscribe(j(t,p,(function(){u=!0,h()}))),function(){null==o||o()}}function xe(e,t,r){return void 0===r&&(r=1/0),d(t)?xe((function(r,i){return Ce((function(e,n){return t(r,e,i,n)}))(he(e(r,i)))}),r):("number"==typeof t&&(r=t),B((function(t,i){return Ie(t,i,e,r)})))}function Fe(e){return void 0===e&&(e=1/0),xe(q,e)}function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fe(1)(ve(e,re(e)))}function _e(e){return new N((function(t){he(e()).subscribe(t)}))}var Pe=["addListener","removeListener"],De=["addEventListener","removeEventListener"],Me=["on","off"];function Ae(e,t,r,i){if(d(r)&&(i=r,r=void 0),i)return Ae(e,t,r).pipe(Ee(i));var n=s(function(e){return d(e.addEventListener)&&d(e.removeEventListener)}(e)?De.map((function(i){return function(n){return e[i](t,n,r)}})):function(e){return d(e.addListener)&&d(e.removeListener)}(e)?Pe.map(qe(e,t)):function(e){return d(e.on)&&d(e.off)}(e)?Me.map(qe(e,t)):[],2),a=n[0],o=n[1];if(!a&&ie(e))return xe((function(e){return Ae(e,t,r)}))(he(e));if(!a)throw new TypeError("Invalid event target");return new N((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return a(t),function(){return o(t)}}))}function qe(e,t){return function(r){return function(i){return e[r](t,i)}}}function Oe(e,t,r){void 0===e&&(e=0),void 0===r&&(r=Y);var i=-1;return null!=t&&(ee(t)?r=t:i=t),new N((function(t){var n=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;n<0&&(n=0);var s=0;return r.schedule((function(){t.closed||(t.next(s++),0<=i?this.schedule(void 0,i):t.complete())}),n)}))}function Ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=re(e),i=function(e,t){return"number"==typeof te(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?he(n[0]):Fe(i)(ve(n,r)):Z}var Le=new N(k),Be=Array.isArray;function je(e){return 1===e.length&&Be(e[0])?e[0]:e}function He(e,t){return B((function(r,i){var n=0;r.subscribe(j(i,(function(r){return e.call(t,r,n++)&&i.next(r)})))}))}function $e(e){return function(t){for(var r=[],i=function(i){r.push(he(e[i]).subscribe(j(t,(function(e){if(r){for(var n=0;n<r.length;n++)n!==i&&r[n].unsubscribe();r=null}t.next(e)}))))},n=0;r&&!t.closed&&n<e.length;n++)i(n)}}function Ke(e){return B((function(t,r){var i,n=null,s=!1;n=t.subscribe(j(r,void 0,void 0,(function(a){i=he(e(a,Ke(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):s=!0}))),s&&(n.unsubscribe(),n=null,i.subscribe(r))}))}function Ve(e){return B((function(t,r){var i=!1;t.subscribe(j(r,(function(e){i=!0,r.next(e)}),(function(){i||r.next(e),r.complete()})))}))}function We(e){return e<=0?function(){return Z}:B((function(t,r){var i=0;t.subscribe(j(r,(function(t){++i<=e&&(r.next(t),e<=i&&r.complete())})))}))}function ze(){return B((function(e,t){e.subscribe(j(t,k))}))}function Ue(e){return void 0===e&&(e=Ge),B((function(t,r){var i=!1;t.subscribe(j(r,(function(e){i=!0,r.next(e)}),(function(){return i?r.complete():r.error(e())})))}))}function Ge(){return new ke}function Qe(e,t){var r=arguments.length>=2;return function(i){return i.pipe(e?He((function(t,r){return e(t,r,i)})):q,We(1),r?Ve(t):Ue((function(){return new ke})))}}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?B((function(t,r){$e(a([t],s(e)))(r)})):q}function Xe(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"==typeof e?e:{count:e}).count,i=void 0===r?1/0:r,n=t.delay,s=t.resetOnSuccess,a=void 0!==s&&s;return i<=0?q:B((function(e,t){var r,s=0,o=function(){var c=!1;r=e.subscribe(j(t,(function(e){a&&(s=0),t.next(e)}),void 0,(function(e){if(s++<i){var a=function(){r?(r.unsubscribe(),r=null,o()):c=!0};if(null!=n){var l="number"==typeof n?Oe(n):he(n(e,s)),d=j(t,(function(){d.unsubscribe(),a()}),(function(){t.complete()}));l.subscribe(d)}else a()}else t.error(e)}))),c&&(r.unsubscribe(),r=null,o())};o()}))}function Ye(e,t,r){var i=d(e)||t||r?{next:e,error:t,complete:r}:e;return i?B((function(e,t){var r;null===(r=i.subscribe)||void 0===r||r.call(i);var n=!0;e.subscribe(j(t,(function(e){var r;null===(r=i.next)||void 0===r||r.call(i,e),t.next(e)}),(function(){var e;n=!1,null===(e=i.complete)||void 0===e||e.call(i),t.complete()}),(function(e){var r;n=!1,null===(r=i.error)||void 0===r||r.call(i,e),t.error(e)}),(function(){var e,t;n&&(null===(e=i.unsubscribe)||void 0===e||e.call(i)),null===(t=i.finalize)||void 0===t||t.call(i)})))})):q}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
Symbol.dispose??=Symbol("dispose"),Symbol.asyncDispose??=Symbol("asyncDispose");const Ze=Symbol.dispose,et=Symbol.asyncDispose;class tt{#e=!1;#t=[];get disposed(){return this.#e}dispose(){if(!this.#e){this.#e=!0;for(const e of this.#t.reverse())e[Ze]()}}use(e){return e&&this.#t.push(e),e}adopt(e,t){return this.#t.push({[Ze](){t(e)}}),e}defer(e){this.#t.push({[Ze](){e()}})}move(){if(this.#e)throw new ReferenceError("a disposed stack can not use anything new");const e=new tt;return e.#t=this.#t,this.#e=!0,e}[Ze]=this.dispose;[Symbol.toStringTag]="DisposableStack"}class rt{#e=!1;#t=[];get disposed(){return this.#e}async dispose(){if(!this.#e){this.#e=!0;for(const e of this.#t.reverse())await e[et]()}}use(e){return e&&this.#t.push(e),e}adopt(e,t){return this.#t.push({[et]:()=>t(e)}),e}defer(e){this.#t.push({[et]:()=>e()})}move(){if(this.#e)throw new ReferenceError("a disposed stack can not use anything new");const e=new rt;return e.#t=this.#t,this.#e=!0,e}[et]=this.dispose;[Symbol.toStringTag]="AsyncDisposableStack"}
/**
 * @license
 * Copyright 2022 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class it{#r;#i=new Map;constructor(e=function(e){return{all:e=e||new Map,on:function(t,r){var i=e.get(t);i?i.push(r):e.set(t,[r])},off:function(t,r){var i=e.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var i=e.get(t);i&&i.slice().map((function(e){e(r)})),(i=e.get("*"))&&i.slice().map((function(e){e(t,r)}))}}}(new Map)){this.#r=e}on(e,t){const r=this.#i.get(e);return void 0===r?this.#i.set(e,[t]):r.push(t),this.#r.on(e,t),this}off(e,t){const r=this.#i.get(e)??[];if(void 0===t){for(const t of r)this.#r.off(e,t);return this.#i.delete(e),this}const i=r.lastIndexOf(t);return i>-1&&this.#r.off(e,...r.splice(i,1)),this}emit(e,t){return this.#r.emit(e,t),this.listenerCount(e)>0}once(e,t){const r=i=>{t(i),this.off(e,r)};return this.on(e,r)}listenerCount(e){return this.#i.get(e)?.length||0}removeAllListeners(e){return void 0!==e?this.off(e):(this[Ze](),this)}[Ze](){for(const[e,t]of this.#i)for(const r of t)this.#r.off(e,r);this.#i.clear()}}class nt{#n;#s;#a;constructor(e,t,r){this.#n=e,this.#s=t,this.#a=r,this.#n.on(this.#s,this.#a)}[Ze](){this.#n.off(this.#s,this.#a)}}
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const st=(e,t)=>{if(!e)throw new Error(t)},at=!("undefined"==typeof process||!process.version);
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
let ot=null;const ct=e=>at?async(...t)=>{dt&&lt.push(e+t),(await async function(){return ot||(ot=(await import("debug")).default),ot}())(e)(t)}:(...t)=>{const r=globalThis.__PUPPETEER_DEBUG;if(!r)return;("*"===r||(r.endsWith("*")?e.startsWith(r):e===r))&&console.log(`${e}:`,...t)};let lt=[],dt=!1;
/**
 * @license
 * Copyright 2018 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class ut extends Error{constructor(e){super(e),this.name=this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class ht extends ut{}class pt extends ut{#o;#c="";set code(e){this.#o=e}get code(){return this.#o}set originalMessage(e){this.#c=e}get originalMessage(){return this.#c}}class ft extends ut{}class yt extends pt{}
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const mt={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}},gt=ct("puppeteer:error"),wt=(Object.freeze({width:800,height:600}),Symbol("Source URL for Puppeteer evaluation scripts"));
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class vt{static INTERNAL_URL="pptr:internal";static fromCallSite(e,t){const r=new vt;return r.#l=e,r.#d=t.toString(),r}static parse=e=>{e=e.slice(5);const[t="",r=""]=e.split(";"),i=new vt;return i.#l=t,i.#d=decodeURIComponent(r),i};static isPuppeteerURL=e=>e.startsWith("pptr:");#l;#d;get functionName(){return this.#l}get siteString(){return this.#d}toString(){return`pptr:${[this.#l,encodeURIComponent(this.#d)].join(";")}`}}const bt=(e,t)=>{if(Object.prototype.hasOwnProperty.call(t,wt))return t;const r=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>t[2];const i=(new Error).stack;return Error.prepareStackTrace=r,Object.assign(t,{[wt]:vt.fromCallSite(e,i)})},kt=e=>"string"==typeof e||e instanceof String,St=e=>"number"==typeof e||e instanceof Number;function Ct(e,...t){if(kt(e))return st(0===t.length,"Cannot evaluate a string with arguments"),e;return`(${e})(${t.map((function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)})).join(",")})`}let Tt=null;async function Et(){if(!Tt)try{Tt=await import("fs/promises")}catch(e){if(e instanceof TypeError)throw new Error("Cannot write to a path outside of a Node-like environment.");throw e}return Tt}async function It(e,t){const r=[],i=e.getReader();if(t){const e=await Et(),n=await e.open(t,"w+");try{for(;;){const{done:e,value:t}=await i.read();if(e)break;r.push(t),await n.writeFile(t)}}finally{await n.close()}}else for(;;){const{done:e,value:t}=await i.read();if(e)break;r.push(t)}try{return Buffer.concat(r)}catch(e){return gt(e),null}}async function xt(e,t){return new ReadableStream({async pull(r){const{data:i,base64Encoded:n,eof:s}=await e.send("IO.read",{handle:t});r.enqueue(function(e,t){return t?Uint8Array.from(atob(e),(e=>e.codePointAt(0))):(new TextEncoder).encode(e)}(i,n??!1)),s&&(await e.send("IO.close",{handle:t}),r.close())}})}function Ft(e){return 0===e?Le:Oe(e).pipe(Ce((()=>{throw new ht(`Timed out after waiting ${e}ms`)})))}const Rt="__puppeteer_utility_world__",_t=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;const Pt=500;const Dt={px:1,in:96,cm:37.8,mm:3.78};function Mt(e,t="in"){if(void 0===e)return;let r;if(St(e))r=e;else{if(!kt(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const t=e;let i=t.substring(t.length-2).toLowerCase(),n="";i in Dt?n=t.substring(0,t.length-2):(i="px",n=t);const s=Number(n);st(!isNaN(s),"Failed to parse parameter value: "+t),r=s*Dt[i]}}return r/Dt[t]}function At(e,t){return new N((r=>{const i=e=>{r.next(e)};return e.on(t,i),()=>{e.off(t,i)}}))}function qt(e){return xe((t=>ve(Promise.resolve(e(t))).pipe(He((e=>e)),Ce((()=>t)))))}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const Ot=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["clipboard-sanitized-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["persistent-storage","durableStorage"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);class Nt extends it{constructor(){super()}async waitForTarget(e,t={}){const{timeout:r=3e4}=t;return await Se(Ne(At(this,"targetcreated"),At(this,"targetchanged"),ve(this.targets())).pipe(qt(e),Je(Ft(r))))}async pages(){return(await Promise.all(this.browserContexts().map((e=>e.pages())))).reduce(((e,t)=>e.concat(t)),[])}isConnected(){return this.connected}[Ze](){this.close().catch(gt)}[et](){return this.close()}}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Lt extends it{constructor(){super()}async waitForTarget(e,t={}){const{timeout:r=3e4}=t;return await Se(Ne(At(this,"targetcreated"),At(this,"targetchanged"),ve(this.targets())).pipe(qt(e),Je(Ft(r))))}get closed(){return!this.browser().browserContexts().includes(this)}get id(){}[Ze](){this.close().catch(gt)}[et](){return this.close()}}var Bt,jt;!function(e){e.Disconnected=Symbol("CDPSession.Disconnected"),e.Swapped=Symbol("CDPSession.Swapped"),e.Ready=Symbol("CDPSession.Ready"),e.SessionAttached="sessionattached",e.SessionDetached="sessiondetached"}(Bt||(Bt={}));class Ht extends it{constructor(){super()}parentSession(){}}
/**
 * @license
 * Copyright 2024 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class $t{static create(e){return new $t(e)}static async race(e){const t=new Set;try{const r=e.map((e=>e instanceof $t?(e.#u&&t.add(e),e.valueOrThrow()):e));return await Promise.race(r)}finally{for(const e of t)e.reject(new Error("Timeout cleared"))}}#h=!1;#p=!1;#f;#y;#m=new Promise((e=>{this.#y=e}));#u;#g;constructor(e){e&&e.timeout>0&&(this.#g=new ht(e.message),this.#u=setTimeout((()=>{this.reject(this.#g)}),e.timeout))}#w(e){clearTimeout(this.#u),this.#f=e,this.#y()}resolve(e){this.#p||this.#h||(this.#h=!0,this.#w(e))}reject(e){this.#p||this.#h||(this.#p=!0,this.#w(e))}resolved(){return this.#h}finished(){return this.#h||this.#p}value(){return this.#f}#v;valueOrThrow(){return this.#v||(this.#v=(async()=>{if(await this.#m,this.#p)throw this.#f;return this.#f})()),this.#v}}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */!function(e){e.PAGE="page",e.BACKGROUND_PAGE="background_page",e.SERVICE_WORKER="service_worker",e.SHARED_WORKER="shared_worker",e.BROWSER="browser",e.WEBVIEW="webview",e.OTHER="other",e.TAB="tab"}(jt||(jt={}));class Kt{constructor(){}async worker(){return null}async page(){return null}}
/**
 * @license
 * Copyright 2022 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */function Vt(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}function Wt(e,t,r){return e.message=t,e.originalMessage=r??e.originalMessage,e}function zt(e){let t=e.error.message;return e.error&&"object"==typeof e.error&&"data"in e.error&&(t+=` ${e.error.data}`),t}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Ut{#b=new Map;#k=function(){let e=0;return()=>++e}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */();create(e,t,r){const i=new Gt(this.#k(),e,t);this.#b.set(i.id,i);try{r(i.id)}catch(e){throw i.promise.valueOrThrow().catch(gt).finally((()=>{this.#b.delete(i.id)})),i.reject(e),e}return i.promise.valueOrThrow().finally((()=>{this.#b.delete(i.id)}))}reject(e,t,r){const i=this.#b.get(e);i&&this._reject(i,t,r)}_reject(e,t,r){let i,n;t instanceof pt?(i=t,i.cause=e.error,n=t.message):(i=e.error,n=t),e.reject(Wt(i,`Protocol error (${e.label}): ${n}`,r))}resolve(e,t){const r=this.#b.get(e);r&&r.resolve(t)}clear(){for(const e of this.#b.values())this._reject(e,new yt("Target closed"));this.#b.clear()}getPendingProtocolErrors(){const e=[];for(const t of this.#b.values())e.push(new Error(`${t.label} timed out. Trace: ${t.error.stack}`));return e}}class Gt{#S;#C=new pt;#T=$t.create();#E;#I;constructor(e,t,r){this.#S=e,this.#I=t,r&&(this.#E=setTimeout((()=>{this.#T.reject(Wt(this.#C,`${t} timed out. Increase the 'protocolTimeout' setting in launch/connect calls for a higher timeout if needed.`))}),r))}resolve(e){clearTimeout(this.#E),this.#T.resolve(e)}reject(e){clearTimeout(this.#E),this.#T.reject(e)}get id(){return this.#S}get promise(){return this.#T}get error(){return this.#C}get label(){return this.#I}}class Qt extends Ht{#x;#F;#b=new Ut;#R;#_;#n;constructor(e,t,r,i){super(),this.#R=e,this.#F=t,this.#x=r,this.#_=i}_setTarget(e){this.#n=e}_target(){return st(this.#n,"Target must exist"),this.#n}connection(){return this.#R}parentSession(){if(!this.#_)return this;const e=this.#R?.session(this.#_);return e??void 0}send(e,t,r){return this.#R?this.#R._rawSend(this.#b,e,t,this.#x,r):Promise.reject(new yt(`Protocol error (${e}): Session closed. Most likely the ${this.#F} has been closed.`))}_onMessage(e){e.id?e.error?this.#b.reject(e.id,zt(e),e.error.message):this.#b.resolve(e.id,e.result):(st(!e.id),this.emit(e.method,e.params))}async detach(){if(!this.#R)throw new Error(`Session already detached. Most likely the ${this.#F} has been closed.`);await this.#R.send("Target.detachFromTarget",{sessionId:this.#x})}_onClosed(){this.#b.clear(),this.#R=void 0,this.emit(Bt.Disconnected,void 0)}id(){return this.#x}getPendingProtocolErrors(){return this.#b.getPendingProtocolErrors()}}
/**
 * @license
 * Copyright 2019 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Jt{#P;#D;constructor(){this.#P=null,this.#D=null}setDefaultTimeout(e){this.#P=e}setDefaultNavigationTimeout(e){this.#D=e}navigationTimeout(){return null!==this.#D?this.#D:null!==this.#P?this.#P:3e4}timeout(){return null!==this.#P?this.#P:3e4}}
/**
 * @license
 * Copyright 2024 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Xt{static Guard=class{#M;constructor(e){this.#M=e}[Ze](){return this.#M.release()}};#A=!1;#q=[];async acquire(){if(!this.#A)return this.#A=!0,new Xt.Guard(this);const e=$t.create();return this.#q.push(e.resolve.bind(e)),await e.valueOrThrow(),new Xt.Guard(this)}release(){const e=this.#q.shift();e?e():this.#A=!1}}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var Yt=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},Zt=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});const er=new WeakSet;function tr(e,t){let r=!1;if(e.prototype[Ze]){const t=e.prototype[Ze];e.prototype[Ze]=function(){if(!er.has(this))return t.call(this);er.delete(this)},r=!0}if(e.prototype[et]){const t=e.prototype[et];e.prototype[et]=function(){if(!er.has(this))return t.call(this);er.delete(this)},r=!0}return r&&(e.prototype.move=function(){return er.add(this),this}),e}function rr(e=(e=>`Attempted to use disposed ${e.constructor.name}.`)){return(t,r)=>function(...r){if(this.disposed)throw new Error(e(this));return t.call(this,...r)}}function ir(e,t){const r=new WeakMap;let i=-1;return function(...t){if(-1===i&&(i=t.length),i!==t.length)throw new Error("Memoized method was called with the wrong number of arguments");let n=!1,s=r;for(const e of t)s.has(e)||(n=!0,s.set(e,new WeakMap)),s=s.get(e);if(n)return e.call(this,...t)}}function nr(e=function(){return this}){return(t,r)=>{const i=new WeakMap;return async function(...r){const n={stack:[],error:void 0,hasError:!1};try{const s=e.call(this);let a=i.get(s);a||(a=new Xt,i.set(s,a));Yt(n,await a.acquire(),!0);return await t.call(this,...r)}catch(e){n.error=e,n.hasError=!0}finally{const e=Zt(n);e&&await e}}}}new WeakMap;var sr,ar=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},or=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});!function(e){e.Action="action"}(sr||(sr={}));class cr extends it{static race(e){return fr.create(e)}visibility=null;_timeout=3e4;#O=!0;#N=!0;#L=!0;operators={conditions:(e,t)=>xe((r=>Ne(...e.map((e=>e(r,t)))).pipe(Ve(r)))),retryAndRaceWithSignalAndTimer:e=>{const t=[];return e&&t.push(Ae(e,"abort").pipe(Ce((()=>{throw e.reason})))),t.push(Ft(this._timeout)),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(e)}(Xe({delay:yr}),Je(...t))}};get timeout(){return this._timeout}setTimeout(e){const t=this._clone();return t._timeout=e,t}setVisibility(e){const t=this._clone();return t.visibility=e,t}setWaitForEnabled(e){const t=this._clone();return t.#N=e,t}setEnsureElementIsInTheViewport(e){const t=this._clone();return t.#O=e,t}setWaitForStableBoundingBox(e){const t=this._clone();return t.#L=e,t}copyOptions(e){return this._timeout=e._timeout,this.visibility=e.visibility,this.#N=e.#N,this.#O=e.#O,this.#L=e.#L,this}#B=(e,t)=>this.#N?ve(e.frame.waitForFunction((e=>{if(!(e instanceof HTMLElement))return!0;return!["BUTTON","INPUT","SELECT","TEXTAREA","OPTION","OPTGROUP"].includes(e.nodeName)||!e.hasAttribute("disabled")}),{timeout:this._timeout,signal:t},e)).pipe(ze()):Z;#j=e=>this.#L?_e((()=>ve(e.evaluate((e=>new Promise((t=>{window.requestAnimationFrame((()=>{const r=e.getBoundingClientRect();window.requestAnimationFrame((()=>{const i=e.getBoundingClientRect();t([{x:r.x,y:r.y,width:r.width,height:r.height},{x:i.x,y:i.y,width:i.width,height:i.height}])}))}))}))))))).pipe(Qe((([e,t])=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height)),Xe({delay:yr}),ze()):Z;#H=e=>this.#O?ve(e.isIntersectingViewport({threshold:0})).pipe(He((e=>!e)),xe((()=>ve(e.scrollIntoView()))),xe((()=>_e((()=>ve(e.isIntersectingViewport({threshold:0})))).pipe(Qe(q),Xe({delay:yr}),ze())))):Z;#$(e){const t=e?.signal;return this._wait(e).pipe(this.operators.conditions([this.#H,this.#j,this.#B],t),Ye((()=>this.emit(sr.Action,void 0))),xe((t=>ve(t.click(e)).pipe(Ke((e=>{throw t.dispose().catch(gt),e}))))),this.operators.retryAndRaceWithSignalAndTimer(t))}#K(e,t){const r=t?.signal;return this._wait(t).pipe(this.operators.conditions([this.#H,this.#j,this.#B],r),Ye((()=>this.emit(sr.Action,void 0))),xe((t=>ve(t.evaluate((e=>e instanceof HTMLSelectElement?"select":e instanceof HTMLTextAreaElement?"typeable-input":e instanceof HTMLInputElement?new Set(["textarea","text","url","tel","search","password","number","email"]).has(e.type)?"typeable-input":"other-input":e.isContentEditable?"contenteditable":"unknown"))).pipe(xe((r=>{switch(r){case"select":return ve(t.select(e).then(k));case"contenteditable":case"typeable-input":return ve(t.evaluate(((e,t)=>{const r=e.isContentEditable?e.innerText:e.value;if(t.length<=r.length||!t.startsWith(e.value))return e.isContentEditable?e.innerText="":e.value="",t;const i=e.isContentEditable?e.innerText:e.value;return e.isContentEditable?(e.innerText="",e.innerText=i):(e.value="",e.value=i),t.substring(i.length)}),e)).pipe(xe((e=>ve(t.type(e)))));case"other-input":return ve(t.focus()).pipe(xe((()=>ve(t.evaluate(((e,t)=>{e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}),e)))));case"unknown":throw new Error("Element cannot be filled out.")}}))).pipe(Ke((e=>{throw t.dispose().catch(gt),e}))))),this.operators.retryAndRaceWithSignalAndTimer(r))}#V(e){const t=e?.signal;return this._wait(e).pipe(this.operators.conditions([this.#H,this.#j],t),Ye((()=>this.emit(sr.Action,void 0))),xe((e=>ve(e.hover()).pipe(Ke((t=>{throw e.dispose().catch(gt),t}))))),this.operators.retryAndRaceWithSignalAndTimer(t))}#W(e){const t=e?.signal;return this._wait(e).pipe(this.operators.conditions([this.#H,this.#j],t),Ye((()=>this.emit(sr.Action,void 0))),xe((t=>ve(t.evaluate(((e,t,r)=>{void 0!==t&&(e.scrollTop=t),void 0!==r&&(e.scrollLeft=r)}),e?.scrollTop,e?.scrollLeft)).pipe(Ke((e=>{throw t.dispose().catch(gt),e}))))),this.operators.retryAndRaceWithSignalAndTimer(t))}clone(){return this._clone()}async waitHandle(e){return await Se(this._wait(e).pipe(this.operators.retryAndRaceWithSignalAndTimer(e?.signal)))}async wait(e){const t={stack:[],error:void 0,hasError:!1};try{const r=ar(t,await this.waitHandle(e),!1);return await r.jsonValue()}catch(e){t.error=e,t.hasError=!0}finally{or(t)}}map(e){return new hr(this._clone(),(t=>t.evaluateHandle(e)))}filter(e){return new ur(this._clone(),(async(t,r)=>(await t.frame.waitForFunction(e,{signal:r,timeout:this._timeout},t),!0)))}filterHandle(e){return new ur(this._clone(),e)}mapHandle(e){return new hr(this._clone(),e)}click(e){return Se(this.#$(e))}fill(e,t){return Se(this.#K(e,t))}hover(e){return Se(this.#V(e))}scroll(e){return Se(this.#W(e))}}class lr extends cr{static create(e,t){return new lr(e,t).setTimeout("getDefaultTimeout"in e?e.getDefaultTimeout():e.page().getDefaultTimeout())}#z;#U;constructor(e,t){super(),this.#z=e,this.#U=t}_clone(){return new lr(this.#z,this.#U)}_wait(e){const t=e?.signal;return _e((()=>ve(this.#z.waitForFunction(this.#U,{timeout:this.timeout,signal:t})))).pipe(Ue())}}class dr extends cr{#G;constructor(e){super(),this.#G=e,this.copyOptions(this.#G)}get delegate(){return this.#G}setTimeout(e){const t=super.setTimeout(e);return t.#G=this.#G.setTimeout(e),t}setVisibility(e){const t=super.setVisibility(e);return t.#G=t.#G.setVisibility(e),t}setWaitForEnabled(e){const t=super.setWaitForEnabled(e);return t.#G=this.#G.setWaitForEnabled(e),t}setEnsureElementIsInTheViewport(e){const t=super.setEnsureElementIsInTheViewport(e);return t.#G=this.#G.setEnsureElementIsInTheViewport(e),t}setWaitForStableBoundingBox(e){const t=super.setWaitForStableBoundingBox(e);return t.#G=this.#G.setWaitForStableBoundingBox(e),t}}class ur extends dr{#Q;constructor(e,t){super(e),this.#Q=t}_clone(){return new ur(this.delegate.clone(),this.#Q).copyOptions(this)}_wait(e){return this.delegate._wait(e).pipe(xe((t=>ve(Promise.resolve(this.#Q(t,e?.signal))).pipe(He((e=>e)),Ce((()=>t))))),Ue())}}class hr extends dr{#J;constructor(e,t){super(e),this.#J=t}_clone(){return new hr(this.delegate.clone(),this.#J).copyOptions(this)}_wait(e){return this.delegate._wait(e).pipe(xe((t=>ve(Promise.resolve(this.#J(t,e?.signal))))))}}class pr extends cr{static create(e,t){return new pr(e,t).setTimeout("getDefaultTimeout"in e?e.getDefaultTimeout():e.page().getDefaultTimeout())}#z;#X;constructor(e,t){super(),this.#z=e,this.#X=t}#Y=e=>this.visibility?(()=>{switch(this.visibility){case"hidden":return _e((()=>ve(e.isHidden())));case"visible":return _e((()=>ve(e.isVisible())))}})().pipe(Qe(q),Xe({delay:yr}),ze()):Z;_clone(){return new pr(this.#z,this.#X).copyOptions(this)}_wait(e){const t=e?.signal;return _e((()=>ve(this.#z.waitForSelector(this.#X,{visible:!1,timeout:this._timeout,signal:t})))).pipe(He((e=>null!==e)),Ue(),this.operators.conditions([this.#Y],t))}}class fr extends cr{static create(e){const t=function(e){for(const t of e)if(!(t instanceof cr))throw new Error("Unknown locator for race candidate");return e}(e);return new fr(t)}#Z;constructor(e){super(),this.#Z=e}_clone(){return new fr(this.#Z.map((e=>e.clone()))).copyOptions(this)}_wait(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=je(e)).length?he(e[0]):new N($e(e))}(...this.#Z.map((t=>t._wait(e))))}}const yr=100;
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var mr=self&&self.__runInitializers||function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},gr=self&&self.__esDecorate||function(e,t,r,i,n,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?i.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var y in i)f[y]="access"===y?{}:i[y];for(var y in i.access)f.access[y]=i.access[y];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[p])("accessor"===c?{get:u.get,set:u.set}:u[l],f);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(u.get=o),(o=a(m.set))&&(u.set=o),(o=a(m.init))&&n.unshift(o)}else(o=a(m))&&("field"===c?n.unshift(o):u[l]=o)}d&&Object.defineProperty(d,i.name,u),h=!0},wr=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},vr=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});let br=(()=>{let e,t=it,r=[];return class extends t{static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;gr(this,null,e,{kind:"method",name:"screenshot",static:!1,private:!1,access:{has:e=>"screenshot"in e,get:e=>e.screenshot},metadata:i},null,r),i&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}_isDragging=(mr(this,r),!1);_timeoutSettings=new Jt;#ee=new WeakMap;#te=new z(1);constructor(){var e,t,r;super(),At(this,"request").pipe(xe((e=>Re(be(1),Ne(At(this,"requestfailed"),At(this,"requestfinished"),At(this,"response").pipe(Ce((e=>e.request())))).pipe(He((t=>t.id===e.id)),We(1),Ce((()=>-1)))))),(e=(e,t)=>be(e+t),t=0,void 0===r&&(r=1/0),B((function(i,n){var s=t;return Ie(i,n,(function(t,r){return e(s,t,r)}),r,(function(e){s=e}),!1,void 0,(function(){return s=null}))}))),function(e){return B((function(t,r){he(e).subscribe(j(r,(function(){return r.complete()}),k)),!r.closed&&t.subscribe(r)}))}(At(this,"close")),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=re(e);return B((function(t,i){(r?Re(e,t,r):Re(e,t)).subscribe(i)}))}(0)).subscribe(this.#te)}on(e,t){if("request"!==e)return super.on(e,t);let r=this.#ee.get(t);return void 0===r&&(r=e=>{e.enqueueInterceptAction((()=>t(e)))},this.#ee.set(t,r)),super.on(e,r)}off(e,t){return"request"===e&&(t=this.#ee.get(t)||t),super.off(e,t)}locator(e){return"string"==typeof e?pr.create(this,e):lr.create(this,e)}locatorRace(e){return cr.race(e)}async $(e){return await this.mainFrame().$(e)}async $$(e){return await this.mainFrame().$$(e)}async evaluateHandle(e,...t){return e=bt(this.evaluateHandle.name,e),await this.mainFrame().evaluateHandle(e,...t)}async $eval(e,t,...r){return t=bt(this.$eval.name,t),await this.mainFrame().$eval(e,t,...r)}async $$eval(e,t,...r){return t=bt(this.$$eval.name,t),await this.mainFrame().$$eval(e,t,...r)}async addScriptTag(e){return await this.mainFrame().addScriptTag(e)}async addStyleTag(e){return await this.mainFrame().addStyleTag(e)}url(){return this.mainFrame().url()}async content(){return await this.mainFrame().content()}async setContent(e,t){await this.mainFrame().setContent(e,t)}async goto(e,t){return await this.mainFrame().goto(e,t)}async waitForNavigation(e={}){return await this.mainFrame().waitForNavigation(e)}waitForRequest(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;if("string"==typeof e){const t=e;e=e=>e.url()===t}return Se(At(this,"request").pipe(qt(e),Je(Ft(r),At(this,"close").pipe(Ce((()=>{throw new yt("Page closed!")}))))))}waitForResponse(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;if("string"==typeof e){const t=e;e=e=>e.url()===t}return Se(At(this,"response").pipe(qt(e),Je(Ft(r),At(this,"close").pipe(Ce((()=>{throw new yt("Page closed!")}))))))}waitForNetworkIdle(e={}){return Se(this.waitForNetworkIdle$(e))}waitForNetworkIdle$(e={}){const{timeout:t=this._timeoutSettings.timeout(),idleTime:r=Pt,concurrency:i=0}=e;return this.#te.pipe((n=e=>e>i?Z:Oe(r),B((function(e,t){var r=null,i=0,a=!1,o=function(){return a&&!r&&t.complete()};e.subscribe(j(t,(function(e){null==r||r.unsubscribe();var a=0,c=i++;he(n(e,c)).subscribe(r=j(t,(function(r){return t.next(s?s(e,r,c,a++):r)}),(function(){r=null,o()})))}),(function(){a=!0,o()})))}))),Ce((()=>{})),Je(Ft(t),At(this,"close").pipe(Ce((()=>{throw new yt("Page closed!")})))));var n,s}async waitForFrame(e,t={}){const{timeout:r=this.getDefaultTimeout()}=t;return kt(e)&&(e=t=>e===t.url()),await Se(Ne(At(this,"frameattached"),At(this,"framenavigated"),ve(this.frames())).pipe(qt(e),Qe(),Je(Ft(r),At(this,"close").pipe(Ce((()=>{throw new yt("Page closed.")}))))))}async emulate(e){await Promise.all([this.setUserAgent(e.userAgent),this.setViewport(e.viewport)])}async evaluate(e,...t){return e=bt(this.evaluate.name,e),await this.mainFrame().evaluate(e,...t)}async _maybeWriteBufferToFile(e,t){if(!e)return;const r=await Et();await r.writeFile(e,t)}async screencast(e={}){const[{ScreenRecorder:t},[r,i,n]]=await Promise.all([import("./package/lib/esm/puppeteer/node/ScreenRecorder.js"),this.#re()]);let s;if(e.crop){const{x:t,y:a,width:o,height:c}=Sr(kr(e.crop));if(t<0||a<0)throw new Error("`crop.x` and `crop.y` must be greater than or equal to 0.");if(o<=0||c<=0)throw new Error("`crop.height` and `crop.width` must be greater than or equal to 0.");const l=r/n,d=i/n;if(t+o>l)throw new Error(`\`crop.width\` cannot be larger than the viewport width (${l}).`);if(a+c>d)throw new Error(`\`crop.height\` cannot be larger than the viewport height (${d}).`);s={x:t*n,y:a*n,width:o*n,height:c*n}}if(void 0!==e.speed&&e.speed<=0)throw new Error("`speed` must be greater than 0.");if(void 0!==e.scale&&e.scale<=0)throw new Error("`scale` must be greater than 0.");const a=new t(this,r,i,{...e,path:e.ffmpegPath,crop:s});try{await this._startScreencast()}catch(e){throw a.stop(),e}if(e.path){const{createWriteStream:t}=await import("fs"),r=t(e.path,"binary");a.pipe(r)}return a}#ie=0;#ne;async _startScreencast(){++this.#ie,this.#ne||(this.#ne=this.mainFrame().client.send("Page.startScreencast",{format:"png"}).then((()=>new Promise((e=>this.mainFrame().client.once("Page.screencastFrame",(()=>e()))))))),await this.#ne}async _stopScreencast(){--this.#ie,this.#ne&&(this.#ne=void 0,0===this.#ie&&await this.mainFrame().client.send("Page.stopScreencast"))}async#re(){const e={stack:[],error:void 0,hasError:!1};try{const t=this.viewport(),r=wr(e,new tt,!1);return t&&0!==t.deviceScaleFactor&&(await this.setViewport({...t,deviceScaleFactor:0}),r.defer((()=>{this.setViewport(t).catch(gt)}))),await this.mainFrame().isolatedRealm().evaluate((()=>[window.visualViewport.width*window.devicePixelRatio,window.visualViewport.height*window.devicePixelRatio,window.devicePixelRatio]))}catch(t){e.error=t,e.hasError=!0}finally{vr(e)}}async screenshot(e={}){const t={stack:[],error:void 0,hasError:!1};try{await this.bringToFront();const r={...e,clip:e.clip?{...e.clip}:void 0};if(void 0===r.type&&void 0!==r.path){const e=r.path;switch(e.slice(e.lastIndexOf(".")+1).toLowerCase()){case"png":r.type="png";break;case"jpeg":case"jpg":r.type="jpeg";break;case"webp":r.type="webp"}}if(void 0!==r.quality){if(r.quality<0&&r.quality>100)throw new Error(`Expected 'quality' (${r.quality}) to be between 0 and 100, inclusive.`);if(void 0===r.type||!["jpeg","webp"].includes(r.type))throw new Error(`${r.type??"png"} screenshots do not support 'quality'.`)}if(r.clip){if(r.clip.width<=0)throw new Error("'width' in 'clip' must be positive.");if(r.clip.height<=0)throw new Error("'height' in 'clip' must be positive.")}!function(e){e.optimizeForSpeed??=!1,e.type??="png",e.fromSurface??=!0,e.fullPage??=!1,e.omitBackground??=!1,e.encoding??="binary",e.captureBeyondViewport??=!0}(r);const i=wr(t,new rt,!0);if(r.clip){if(r.fullPage)throw new Error("'clip' and 'fullPage' are mutually exclusive");r.clip=Sr(kr(r.clip))}else if(r.fullPage){if(!r.captureBeyondViewport){const e=await this.mainFrame().isolatedRealm().evaluate((()=>{const e=document.documentElement;return{width:e.scrollWidth,height:e.scrollHeight}})),t=this.viewport();await this.setViewport({...t,...e}),i.defer((async()=>{t?await this.setViewport(t).catch(gt):await this.setViewport({width:0,height:0}).catch(gt)}))}}else r.captureBeyondViewport=!1;const n=await this._screenshot(r);if("base64"===r.encoding)return n;const s=Buffer.from(n,"base64");return await this._maybeWriteBufferToFile(r.path,s),s}catch(e){t.error=e,t.hasError=!0}finally{const e=vr(t);e&&await e}}async title(){return await this.mainFrame().title()}click(e,t){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,r){return this.mainFrame().type(e,t,r)}async waitForSelector(e,t={}){return await this.mainFrame().waitForSelector(e,t)}waitForFunction(e,t,...r){return this.mainFrame().waitForFunction(e,t,...r)}[(e=[nr((function(){return this.browser()}))],Ze)](){this.close().catch(gt)}[et](){return this.close()}}})();new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]);function kr(e){return{...e,...e.width<0?{x:e.x+e.width,width:-e.width}:{x:e.x,width:e.width},...e.height<0?{y:e.y+e.height,height:-e.height}:{y:e.y,height:e.height}}}function Sr(e){const t=Math.round(e.x),r=Math.round(e.y),i=Math.round(e.width+e.x-t),n=Math.round(e.height+e.y-r);return{...e,x:t,y:r,width:i,height:n}}
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Cr{#s;#se;#ae;#oe;constructor(e,t,r,i){this.#s=e,this.#se=t,this.#ae=r,this.#oe=i}type(){return this.#s}text(){return this.#se}args(){return this.#ae}location(){return this.#oe[0]??{}}stackTrace(){return this.#oe}}
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Tr{#ce;#le;#de=!1;constructor(e,t){this.#ce=e,this.#le="selectSingle"!==t.mode}isMultiple(){return this.#le}async accept(e){st(!this.#de,"Cannot accept FileChooser which is already handled!"),this.#de=!0,await this.#ce.uploadFile(...e)}async cancel(){st(!this.#de,"Cannot cancel FileChooser which is already handled!"),this.#de=!0,await this.#ce.evaluate((e=>{e.dispatchEvent(new Event("cancel",{bubbles:!0}))}))}}
/**
 * @license
 * Copyright 2022 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var Er;!function(e){e.Request=Symbol("NetworkManager.Request"),e.RequestServedFromCache=Symbol("NetworkManager.RequestServedFromCache"),e.Response=Symbol("NetworkManager.Response"),e.RequestFailed=Symbol("NetworkManager.RequestFailed"),e.RequestFinished=Symbol("NetworkManager.RequestFinished")}(Er||(Er={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class Ir{#ue;constructor(e){this.#ue=e}updateClient(e){this.#ue=e}async snapshot(e={}){const{interestingOnly:t=!0,root:r=null}=e,{nodes:i}=await this.#ue.send("Accessibility.getFullAXTree");let n;if(r){const{node:e}=await this.#ue.send("DOM.describeNode",{objectId:r.id});n=e.backendNodeId}const s=xr.createTree(i);let a=s;if(n&&(a=s.find((e=>e.payload.backendDOMNodeId===n)),!a))return null;if(!t)return this.serializeTree(a)[0]??null;const o=new Set;return this.collectInterestingNodes(o,s,!1),o.has(a)?this.serializeTree(a,o)[0]??null:null}serializeTree(e,t){const r=[];for(const i of e.children)r.push(...this.serializeTree(i,t));if(t&&!t.has(e))return r;const i=e.serialize();return r.length&&(i.children=r),[i]}collectInterestingNodes(e,t,r){if(t.isInteresting(r)&&e.add(t),!t.isLeafNode()){r=r||t.isControl();for(const i of t.children)this.collectInterestingNodes(e,i,r)}}}class xr{payload;children=[];#he=!1;#pe=!1;#fe=!1;#ye=!1;#me;#ge;#we;#ve;constructor(e){this.payload=e,this.#me=this.payload.name?this.payload.name.value:"",this.#ge=this.payload.role?this.payload.role.value:"Unknown",this.#we=this.payload.ignored;for(const e of this.payload.properties||[])"editable"===e.name&&(this.#he="richtext"===e.value.value,this.#pe=!0),"focusable"===e.name&&(this.#fe=e.value.value),"hidden"===e.name&&(this.#ye=e.value.value)}#be(){return!this.#he&&(!!this.#pe||("textbox"===this.#ge||"searchbox"===this.#ge))}#ke(){const e=this.#ge;return"LineBreak"===e||"text"===e||"InlineTextBox"===e||"StaticText"===e}#Se(){if(void 0===this.#ve){this.#ve=!1;for(const e of this.children)if(e.#fe||e.#Se()){this.#ve=!0;break}}return this.#ve}find(e){if(e(this))return this;for(const t of this.children){const r=t.find(e);if(r)return r}return null}isLeafNode(){if(!this.children.length)return!0;if(this.#be()||this.#ke())return!0;switch(this.#ge){case"doc-cover":case"graphics-symbol":case"img":case"image":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!this.#Se()&&(!(!this.#fe||!this.#me)||!("heading"!==this.#ge||!this.#me))}isControl(){switch(this.#ge){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this.#ge&&!this.#ye&&!this.#we&&(!(!this.#fe&&!this.#he)||(!!this.isControl()||!e&&(this.isLeafNode()&&!!this.#me)))}serialize(){const e=new Map;for(const t of this.payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);const t={role:this.#ge},r=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const n of r)e.has(n)&&(t[n]=(i=n,e.get(i)));var i;const n=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],s=t=>e.get(t);for(const e of n){if("focused"===e&&"RootWebArea"===this.#ge)continue;s(e)&&(t[e]=s(e))}const a=["checked","pressed"];for(const r of a){if(!e.has(r))continue;const i=e.get(r);t[r]="mixed"===i?"mixed":"true"===i}const o=["level","valuemax","valuemin"],c=t=>e.get(t);for(const r of o)e.has(r)&&(t[r]=c(r));const l=["autocomplete","haspopup","invalid","orientation"],d=t=>e.get(t);for(const e of l){const r=d(e);r&&"false"!==r&&(t[e]=d(e))}return t}static createTree(e){const t=new Map;for(const r of e)t.set(r.nodeId,new xr(r));for(const e of t.values())for(const r of e.payload.childIds||[]){const i=t.get(r);i&&e.children.push(i)}return t.values().next().value}}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var Fr=self&&self.__runInitializers||function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},Rr=self&&self.__esDecorate||function(e,t,r,i,n,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?i.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var y in i)f[y]="access"===y?{}:i[y];for(var y in i.access)f.access[y]=i.access[y];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[p])("accessor"===c?{get:u.get,set:u.set}:u[l],f);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(u.get=o),(o=a(m.set))&&(u.set=o),(o=a(m.init))&&n.unshift(o)}else(o=a(m))&&("field"===c?n.unshift(o):u[l]=o)}d&&Object.defineProperty(d,i.name,u),h=!0},_r=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},Pr=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});let Dr=(()=>{let e,t,r,i,n=[tr],s=[],a=[];(class{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;Rr(this,null,r,{kind:"method",name:"getProperty",static:!1,private:!1,access:{has:e=>"getProperty"in e,get:e=>e.getProperty},metadata:o},null,a),Rr(this,null,i,{kind:"method",name:"getProperties",static:!1,private:!1,access:{has:e=>"getProperties"in e,get:e=>e.getProperties},metadata:o},null,a),Rr(null,e={value:t},n,{kind:"class",name:t.name,metadata:o},null,s),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Fr(t,s)}constructor(){Fr(this,a)}async evaluate(e,...t){return e=bt(this.evaluate.name,e),await this.realm.evaluate(e,this,...t)}async evaluateHandle(e,...t){return e=bt(this.evaluateHandle.name,e),await this.realm.evaluateHandle(e,this,...t)}async getProperty(e){return await this.evaluateHandle(((e,t)=>e[t]),e)}async getProperties(){const e=await this.evaluate((e=>{const t=[],r=Object.getOwnPropertyDescriptors(e);for(const e in r)r[e]?.enumerable&&t.push(e);return t})),t=new Map,r=await Promise.all(e.map((e=>this.getProperty(e))));for(const[i,n]of Object.entries(e)){const e={stack:[],error:void 0,hasError:!1};try{const s=_r(e,r[i],!1);s&&t.set(n,s.move())}catch(t){e.error=t,e.hasError=!0}finally{Pr(e)}}return t}[(r=[rr()],i=[rr()],Ze)](){this.dispose().catch(gt)}[et](){return this.dispose()}});return t})();var Mr=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},Ar=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});class qr{#me;#Ce;constructor(e,t){this.#me=e,this.#Ce=t}get name(){return this.#me}async run(e,t,r,i){const n=new tt;try{if(!i){const i={stack:[],error:void 0,hasError:!1};try{const s=Mr(i,await e.evaluateHandle(((e,t)=>globalThis[e].args.get(t)),this.#me,t),!1),a=await s.getProperties();for(const[e,t]of a)if(e in r)if("node"===t.remoteObject().subtype)r[+e]=t;else n.use(t);else n.use(t)}catch(e){i.error=e,i.hasError=!0}finally{Ar(i)}}await e.evaluate(((e,t,r)=>{const i=globalThis[e].callbacks;i.get(t).resolve(r),i.delete(t)}),this.#me,t,await this.#Ce(...r));for(const e of r)e instanceof Dr&&n.use(e)}catch(r){Vt(r)?await e.evaluate(((e,t,r,i)=>{const n=new Error(r);n.stack=i;const s=globalThis[e].callbacks;s.get(t).reject(n),s.delete(t)}),this.#me,t,r.message,r.stack).catch(gt):await e.evaluate(((e,t,r)=>{const i=globalThis[e].callbacks;i.get(t).reject(r),i.delete(t)}),this.#me,t,r).catch(gt)}}}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const Or=ct("puppeteer:protocol:SEND "),Nr=ct("puppeteer:protocol:RECV ");class Lr extends it{#Te;#Ee;#Ie;#xe;#Fe=new Map;#Re=!1;#_e=new Set;#b=new Ut;constructor(e,t,r=0,i){super(),this.#Te=e,this.#Ie=r,this.#xe=i??18e4,this.#Ee=t,this.#Ee.onmessage=this.onMessage.bind(this),this.#Ee.onclose=this.#Pe.bind(this)}static fromSession(e){return e.connection()}get timeout(){return this.#xe}get _closed(){return this.#Re}get _sessions(){return this.#Fe}session(e){return this.#Fe.get(e)||null}url(){return this.#Te}send(e,t,r){return this._rawSend(this.#b,e,t,void 0,r)}_rawSend(e,t,r,i,n){return e.create(t,n?.timeout??this.#xe,(e=>{const n=JSON.stringify({method:t,params:r,id:e,sessionId:i});Or(n),this.#Ee.send(n)}))}async closeBrowser(){await this.send("Browser.close")}async onMessage(e){this.#Ie&&await new Promise((e=>setTimeout(e,this.#Ie))),Nr(e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,r=new Qt(this,t.params.targetInfo.type,e,t.sessionId);this.#Fe.set(e,r),this.emit(Bt.SessionAttached,r);const i=this.#Fe.get(t.sessionId);i&&i.emit(Bt.SessionAttached,r)}else if("Target.detachedFromTarget"===t.method){const e=this.#Fe.get(t.params.sessionId);if(e){e._onClosed(),this.#Fe.delete(t.params.sessionId),this.emit(Bt.SessionDetached,e);const r=this.#Fe.get(t.sessionId);r&&r.emit(Bt.SessionDetached,e)}}if(t.sessionId){const e=this.#Fe.get(t.sessionId);e&&e._onMessage(t)}else t.id?t.error?this.#b.reject(t.id,zt(t),t.error.message):this.#b.resolve(t.id,t.result):this.emit(t.method,t.params)}#Pe(){if(!this.#Re){this.#Re=!0,this.#Ee.onmessage=void 0,this.#Ee.onclose=void 0,this.#b.clear();for(const e of this.#Fe.values())e._onClosed();this.#Fe.clear(),this.emit(Bt.Disconnected,void 0)}}dispose(){this.#Pe(),this.#Ee.close()}isAutoAttached(e){return!this.#_e.has(e)}async _createSession(e,t=!0){t||this.#_e.add(e.targetId);const{sessionId:r}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});this.#_e.delete(e.targetId);const i=this.#Fe.get(r);if(!i)throw new Error("CDPSession creation failed.");return i}async createSession(e){return await this._createSession(e,!1)}getPendingProtocolErrors(){const e=[];e.push(...this.#b.getPendingProtocolErrors());for(const t of this.#Fe.values())e.push(...t.getPendingProtocolErrors());return e}}function Br(e){return e instanceof yt}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class jr{#De;#Me;constructor(e){this.#De=new Hr(e),this.#Me=new $r(e)}updateClient(e){this.#De.updateClient(e),this.#Me.updateClient(e)}async startJSCoverage(e={}){return await this.#De.start(e)}async stopJSCoverage(){return await this.#De.stop()}async startCSSCoverage(e={}){return await this.#Me.start(e)}async stopCSSCoverage(){return await this.#Me.stop()}}class Hr{#ue;#Ae=!1;#qe=new Map;#Oe=new Map;#Ne;#Le=!1;#Be=!1;#je=!1;constructor(e){this.#ue=e}updateClient(e){this.#ue=e}async start(e={}){st(!this.#Ae,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:r=!1,includeRawScriptCoverage:i=!1,useBlockCoverage:n=!0}=e;this.#Le=t,this.#Be=r,this.#je=i,this.#Ae=!0,this.#qe.clear(),this.#Oe.clear(),this.#Ne=new tt,this.#Ne.use(new nt(this.#ue,"Debugger.scriptParsed",this.#He.bind(this))),this.#Ne.use(new nt(this.#ue,"Runtime.executionContextsCleared",this.#$e.bind(this))),await Promise.all([this.#ue.send("Profiler.enable"),this.#ue.send("Profiler.startPreciseCoverage",{callCount:this.#je,detailed:n}),this.#ue.send("Debugger.enable"),this.#ue.send("Debugger.setSkipAllPauses",{skip:!0})])}#$e(){this.#Le&&(this.#qe.clear(),this.#Oe.clear())}async#He(e){if(!vt.isPuppeteerURL(e.url)&&(e.url||this.#Be))try{const t=await this.#ue.send("Debugger.getScriptSource",{scriptId:e.scriptId});this.#qe.set(e.scriptId,e.url),this.#Oe.set(e.scriptId,t.scriptSource)}catch(e){gt(e)}}async stop(){st(this.#Ae,"JSCoverage is not enabled"),this.#Ae=!1;const e=await Promise.all([this.#ue.send("Profiler.takePreciseCoverage"),this.#ue.send("Profiler.stopPreciseCoverage"),this.#ue.send("Profiler.disable"),this.#ue.send("Debugger.disable")]);this.#Ne?.dispose();const t=[],r=e[0];for(const e of r.result){let r=this.#qe.get(e.scriptId);!r&&this.#Be&&(r="debugger://VM"+e.scriptId);const i=this.#Oe.get(e.scriptId);if(void 0===i||void 0===r)continue;const n=[];for(const t of e.functions)n.push(...t.ranges);const s=Kr(n);this.#je?t.push({url:r,ranges:s,text:i,rawScriptCoverage:e}):t.push({url:r,ranges:s,text:i})}return t}}class $r{#ue;#Ae=!1;#Ke=new Map;#Ve=new Map;#We;#Le=!1;constructor(e){this.#ue=e}updateClient(e){this.#ue=e}async start(e={}){st(!this.#Ae,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this.#Le=t,this.#Ae=!0,this.#Ke.clear(),this.#Ve.clear(),this.#We=new tt,this.#We.use(new nt(this.#ue,"CSS.styleSheetAdded",this.#ze.bind(this))),this.#We.use(new nt(this.#ue,"Runtime.executionContextsCleared",this.#$e.bind(this))),await Promise.all([this.#ue.send("DOM.enable"),this.#ue.send("CSS.enable"),this.#ue.send("CSS.startRuleUsageTracking")])}#$e(){this.#Le&&(this.#Ke.clear(),this.#Ve.clear())}async#ze(e){const t=e.header;if(t.sourceURL)try{const e=await this.#ue.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this.#Ke.set(t.styleSheetId,t.sourceURL),this.#Ve.set(t.styleSheetId,e.text)}catch(e){gt(e)}}async stop(){st(this.#Ae,"CSSCoverage is not enabled"),this.#Ae=!1;const e=await this.#ue.send("CSS.stopRuleUsageTracking");await Promise.all([this.#ue.send("CSS.disable"),this.#ue.send("DOM.disable")]),this.#We?.dispose();const t=new Map;for(const r of e.ruleUsage){let e=t.get(r.styleSheetId);e||(e=[],t.set(r.styleSheetId,e)),e.push({startOffset:r.startOffset,endOffset:r.endOffset,count:r.used?1:0})}const r=[];for(const e of this.#Ke.keys()){const i=this.#Ke.get(e);st(void 0!==i,`Stylesheet URL is undefined (styleSheetId=${e})`);const n=this.#Ve.get(e);st(void 0!==n,`Stylesheet text is undefined (styleSheetId=${e})`);const s=Kr(t.get(e)||[]);r.push({url:i,ranges:s,text:n})}return r}}function Kr(e){const t=[];for(const r of e)t.push({offset:r.startOffset,type:0,range:r}),t.push({offset:r.endOffset,type:1,range:r});t.sort(((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const r=e.range.endOffset-e.range.startOffset,i=t.range.endOffset-t.range.startOffset;return 0===e.type?i-r:r-i}));const r=[],i=[];let n=0;for(const e of t){if(r.length&&n<e.offset&&r[r.length-1]>0){const t=i[i.length-1];t&&t.end===n?t.end=e.offset:i.push({start:n,end:e.offset})}n=e.offset,0===e.type?r.push(e.range.count):r.pop()}return i.filter((e=>e.end-e.start>0))}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Vr{#s;#Ue;#Ge;#de=!1;constructor(e,t,r=""){this.#s=e,this.#Ue=t,this.#Ge=r}type(){return this.#s}message(){return this.#Ue}defaultValue(){return this.#Ge}async accept(e){st(!this.#de,"Cannot accept dialog which is already handled!"),this.#de=!0,await this.handle({accept:!0,text:e})}async dismiss(){st(!this.#de,"Cannot dismiss dialog which is already handled!"),this.#de=!0,await this.handle({accept:!1})}}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Wr extends Vr{#ue;constructor(e,t,r,i=""){super(t,r,i),this.#ue=e}async handle(e){await this.#ue.send("Page.handleJavaScriptDialog",{accept:e.accept,promptText:e.text})}}var zr=self&&self.__runInitializers||function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},Ur=self&&self.__esDecorate||function(e,t,r,i,n,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?i.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var y in i)f[y]="access"===y?{}:i[y];for(var y in i.access)f.access[y]=i.access[y];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[p])("accessor"===c?{get:u.get,set:u.set}:u[l],f);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(u.get=o),(o=a(m.set))&&(u.set=o),(o=a(m.init))&&n.unshift(o)}else(o=a(m))&&("field"===c?n.unshift(o):u[l]=o)}d&&Object.defineProperty(d,i.name,u),h=!0},Gr=self&&self.__setFunctionName||function(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})};class Qr{#Qe;#Je;#Xe;constructor(e,t,r){this.#Qe=e,this.#Je=t,this.#Xe=r,this.#Je.registerState(this)}async setState(e){this.#Qe=e,await this.sync()}get state(){return this.#Qe}async sync(){await Promise.all(this.#Je.clients().map((e=>this.#Xe(e,this.#Qe))))}}let Jr=(()=>{let e,t,r,i,n,s,a,o,c,l,d,u,h,p,f,y,m,g,w,v,b=[];return class{static{const k="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[ir],r=[ir],n=[ir],a=[ir],c=[ir],d=[ir],h=[ir],f=[ir],m=[ir],w=[ir],Ur(this,t={value:Gr((async function(e,t){if(!t.viewport)return;const{viewport:r}=t,i=r.isMobile||!1,n=r.width,s=r.height,a=r.deviceScaleFactor??1,o=r.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},c=r.hasTouch||!1;await Promise.all([e.send("Emulation.setDeviceMetricsOverride",{mobile:i,width:n,height:s,deviceScaleFactor:a,screenOrientation:o}).catch((e=>{if(!e.message.includes("Target does not support metrics override"))throw e;gt(e)})),e.send("Emulation.setTouchEmulationEnabled",{enabled:c})])}),"#applyViewport")},e,{kind:"method",name:"#applyViewport",static:!1,private:!0,access:{has:e=>#Ye in e,get:e=>e.#Ye},metadata:k},null,b),Ur(this,i={value:Gr((async function(e,t){t.active&&(t.overrides?await e.send("Emulation.setIdleOverride",{isUserActive:t.overrides.isUserActive,isScreenUnlocked:t.overrides.isScreenUnlocked}):await e.send("Emulation.clearIdleOverride"))}),"#emulateIdleState")},r,{kind:"method",name:"#emulateIdleState",static:!1,private:!0,access:{has:e=>#Ze in e,get:e=>e.#Ze},metadata:k},null,b),Ur(this,s={value:Gr((async function(e,t){if(t.active)try{await e.send("Emulation.setTimezoneOverride",{timezoneId:t.timezoneId||""})}catch(e){if(Vt(e)&&e.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${t.timezoneId}`);throw e}}),"#emulateTimezone")},n,{kind:"method",name:"#emulateTimezone",static:!1,private:!0,access:{has:e=>#et in e,get:e=>e.#et},metadata:k},null,b),Ur(this,o={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setEmulatedVisionDeficiency",{type:t.visionDeficiency||"none"})}),"#emulateVisionDeficiency")},a,{kind:"method",name:"#emulateVisionDeficiency",static:!1,private:!0,access:{has:e=>#tt in e,get:e=>e.#tt},metadata:k},null,b),Ur(this,l={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setCPUThrottlingRate",{rate:t.factor??1})}),"#emulateCpuThrottling")},c,{kind:"method",name:"#emulateCpuThrottling",static:!1,private:!0,access:{has:e=>#rt in e,get:e=>e.#rt},metadata:k},null,b),Ur(this,u={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setEmulatedMedia",{features:t.mediaFeatures})}),"#emulateMediaFeatures")},d,{kind:"method",name:"#emulateMediaFeatures",static:!1,private:!0,access:{has:e=>#it in e,get:e=>e.#it},metadata:k},null,b),Ur(this,p={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setEmulatedMedia",{media:t.type||""})}),"#emulateMediaType")},h,{kind:"method",name:"#emulateMediaType",static:!1,private:!0,access:{has:e=>#nt in e,get:e=>e.#nt},metadata:k},null,b),Ur(this,y={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setGeolocationOverride",t.geoLocation?{longitude:t.geoLocation.longitude,latitude:t.geoLocation.latitude,accuracy:t.geoLocation.accuracy}:void 0)}),"#setGeolocation")},f,{kind:"method",name:"#setGeolocation",static:!1,private:!0,access:{has:e=>#st in e,get:e=>e.#st},metadata:k},null,b),Ur(this,g={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setDefaultBackgroundColorOverride",{color:t.color})}),"#setDefaultBackgroundColor")},m,{kind:"method",name:"#setDefaultBackgroundColor",static:!1,private:!0,access:{has:e=>#at in e,get:e=>e.#at},metadata:k},null,b),Ur(this,v={value:Gr((async function(e,t){t.active&&await e.send("Emulation.setScriptExecutionDisabled",{value:!t.javaScriptEnabled})}),"#setJavaScriptEnabled")},w,{kind:"method",name:"#setJavaScriptEnabled",static:!1,private:!0,access:{has:e=>#ot in e,get:e=>e.#ot},metadata:k},null,b),k&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:k})}#ue=void zr(this,b);#ct=!1;#lt=!1;#dt=[];#ut=new Qr({active:!1},this,this.#Ye);#ht=new Qr({active:!1},this,this.#Ze);#pt=new Qr({active:!1},this,this.#et);#ft=new Qr({active:!1},this,this.#tt);#yt=new Qr({active:!1},this,this.#rt);#mt=new Qr({active:!1},this,this.#it);#gt=new Qr({active:!1},this,this.#nt);#wt=new Qr({active:!1},this,this.#st);#vt=new Qr({active:!1},this,this.#at);#bt=new Qr({javaScriptEnabled:!0,active:!1},this,this.#ot);#kt=new Set;constructor(e){this.#ue=e}updateClient(e){this.#ue=e,this.#kt.delete(e)}registerState(e){this.#dt.push(e)}clients(){return[this.#ue,...Array.from(this.#kt)]}async registerSpeculativeSession(e){this.#kt.add(e),e.once(Bt.Disconnected,(()=>{this.#kt.delete(e)})),Promise.all(this.#dt.map((e=>e.sync().catch(gt))))}get javascriptEnabled(){return this.#bt.state.javaScriptEnabled}async emulateViewport(e){await this.#ut.setState({viewport:e,active:!0});const t=e.isMobile||!1,r=e.hasTouch||!1,i=this.#ct!==t||this.#lt!==r;return this.#ct=t,this.#lt=r,i}get#Ye(){return t.value}async emulateIdleState(e){await this.#ht.setState({active:!0,overrides:e})}get#Ze(){return i.value}get#et(){return s.value}async emulateTimezone(e){await this.#pt.setState({timezoneId:e,active:!0})}get#tt(){return o.value}async emulateVisionDeficiency(e){const t=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);st(!e||t.has(e),`Unsupported vision deficiency: ${e}`),await this.#ft.setState({active:!0,visionDeficiency:e})}get#rt(){return l.value}async emulateCPUThrottling(e){st(null===e||e>=1,"Throttling rate should be greater or equal to 1"),await this.#yt.setState({active:!0,factor:e??void 0})}get#it(){return u.value}async emulateMediaFeatures(e){if(Array.isArray(e))for(const t of e){const e=t.name;st(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(e),"Unsupported media feature: "+e)}await this.#mt.setState({active:!0,mediaFeatures:e})}get#nt(){return p.value}async emulateMediaType(e){st("screen"===e||"print"===e||void 0===(e??void 0),"Unsupported media type: "+e),await this.#gt.setState({type:e,active:!0})}get#st(){return y.value}async setGeolocation(e){const{longitude:t,latitude:r,accuracy:i=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(r<-90||r>90)throw new Error(`Invalid latitude "${r}": precondition -90 <= LATITUDE <= 90 failed.`);if(i<0)throw new Error(`Invalid accuracy "${i}": precondition 0 <= ACCURACY failed.`);await this.#wt.setState({active:!0,geoLocation:{longitude:t,latitude:r,accuracy:i}})}get#at(){return g.value}async resetDefaultBackgroundColor(){await this.#vt.setState({active:!0,color:void 0})}async setTransparentBackgroundColor(){await this.#vt.setState({active:!0,color:{r:0,g:0,b:0,a:0}})}get#ot(){return v.value}async setJavaScriptEnabled(e){await this.#bt.setState({active:!0,javaScriptEnabled:e})}}})();
/**
 * @license
 * Copyright 2022 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Xr{static create=e=>new Xr(e);#St;constructor(e){this.#St=e}async get(e){return await this.#St(e)}}const Yr=new
/**
 * @license
 * Copyright 2024 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class{#Ct=!1;#Tt=new Set;append(e){this.#Et((()=>{this.#Tt.add(e)}))}pop(e){this.#Et((()=>{this.#Tt.delete(e)}))}inject(e,t=!1){(this.#Ct||t)&&e(this.#St()),this.#Ct=!1}#Et(e){e(),this.#Ct=!0}#St(){return`(() => {\n      const module = {};\n      "use strict";var v=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var ne=Object.getOwnPropertyNames;var oe=Object.prototype.hasOwnProperty;var u=(t,e)=>{for(var n in e)v(t,n,{get:e[n],enumerable:!0})},se=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ne(e))!oe.call(t,o)&&o!==n&&v(t,o,{get:()=>e[o],enumerable:!(r=re(e,o))||r.enumerable});return t};var ie=t=>se(v({},"__esModule",{value:!0}),t);var Re={};u(Re,{default:()=>ke});module.exports=ie(Re);var C=class extends Error{constructor(e){super(e),this.name=this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},b=class extends C{};var f=class t{static create(e){return new t(e)}static async race(e){let n=new Set;try{let r=e.map(o=>o instanceof t?(o.#s&&n.add(o),o.valueOrThrow()):o);return await Promise.race(r)}finally{for(let r of n)r.reject(new Error("Timeout cleared"))}}#e=!1;#r=!1;#n;#t;#o=new Promise(e=>{this.#t=e});#s;#l;constructor(e){e&&e.timeout>0&&(this.#l=new b(e.message),this.#s=setTimeout(()=>{this.reject(this.#l)},e.timeout))}#a(e){clearTimeout(this.#s),this.#n=e,this.#t()}resolve(e){this.#r||this.#e||(this.#e=!0,this.#a(e))}reject(e){this.#r||this.#e||(this.#r=!0,this.#a(e))}resolved(){return this.#e}finished(){return this.#e||this.#r}value(){return this.#n}#i;valueOrThrow(){return this.#i||(this.#i=(async()=>{if(await this.#o,this.#r)throw this.#n;return this.#n})()),this.#i}};var X=new Map,z=t=>{let e=X.get(t);return e||(e=new Function(\`return \${t}\`)(),X.set(t,e),e)};var k={};u(k,{ariaQuerySelector:()=>le,ariaQuerySelectorAll:()=>I});var le=(t,e)=>window.__ariaQuerySelector(t,e),I=async function*(t,e){yield*await window.__ariaQuerySelectorAll(t,e)};var M={};u(M,{customQuerySelectors:()=>O});var R=class{#e=new Map;register(e,n){if(!n.queryOne&&n.queryAll){let r=n.queryAll;n.queryOne=(o,i)=>{for(let s of r(o,i))return s;return null}}else if(n.queryOne&&!n.queryAll){let r=n.queryOne;n.queryAll=(o,i)=>{let s=r(o,i);return s?[s]:[]}}else if(!n.queryOne||!n.queryAll)throw new Error("At least one query method must be defined.");this.#e.set(e,{querySelector:n.queryOne,querySelectorAll:n.queryAll})}unregister(e){this.#e.delete(e)}get(e){return this.#e.get(e)}clear(){this.#e.clear()}},O=new R;var q={};u(q,{pierceQuerySelector:()=>ae,pierceQuerySelectorAll:()=>ce});var ae=(t,e)=>{let n=null,r=o=>{let i=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&r(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==o&&!n&&s.matches(e)&&(n=s)}while(!n&&i.nextNode())};return t instanceof Document&&(t=t.documentElement),r(t),n},ce=(t,e)=>{let n=[],r=o=>{let i=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&r(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==o&&s.matches(e)&&n.push(s)}while(i.nextNode())};return t instanceof Document&&(t=t.documentElement),r(t),n};var m=(t,e)=>{if(!t)throw new Error(e)};var T=class{#e;#r;#n;#t;constructor(e,n){this.#e=e,this.#r=n}async start(){let e=this.#t=f.create(),n=await this.#e();if(n){e.resolve(n);return}this.#n=new MutationObserver(async()=>{let r=await this.#e();r&&(e.resolve(r),await this.stop())}),this.#n.observe(this.#r,{childList:!0,subtree:!0,attributes:!0})}async stop(){m(this.#t,"Polling never started."),this.#t.finished()||this.#t.reject(new Error("Polling stopped")),this.#n&&(this.#n.disconnect(),this.#n=void 0)}result(){return m(this.#t,"Polling never started."),this.#t.valueOrThrow()}},E=class{#e;#r;constructor(e){this.#e=e}async start(){let e=this.#r=f.create(),n=await this.#e();if(n){e.resolve(n);return}let r=async()=>{if(e.finished())return;let o=await this.#e();if(!o){window.requestAnimationFrame(r);return}e.resolve(o),await this.stop()};window.requestAnimationFrame(r)}async stop(){m(this.#r,"Polling never started."),this.#r.finished()||this.#r.reject(new Error("Polling stopped"))}result(){return m(this.#r,"Polling never started."),this.#r.valueOrThrow()}},P=class{#e;#r;#n;#t;constructor(e,n){this.#e=e,this.#r=n}async start(){let e=this.#t=f.create(),n=await this.#e();if(n){e.resolve(n);return}this.#n=setInterval(async()=>{let r=await this.#e();r&&(e.resolve(r),await this.stop())},this.#r)}async stop(){m(this.#t,"Polling never started."),this.#t.finished()||this.#t.reject(new Error("Polling stopped")),this.#n&&(clearInterval(this.#n),this.#n=void 0)}result(){return m(this.#t,"Polling never started."),this.#t.valueOrThrow()}};var V={};u(V,{pQuerySelector:()=>Ce,pQuerySelectorAll:()=>te});var c=class{static async*map(e,n){for await(let r of e)yield await n(r)}static async*flatMap(e,n){for await(let r of e)yield*n(r)}static async collect(e){let n=[];for await(let r of e)n.push(r);return n}static async first(e){for await(let n of e)return n}};var p={attribute:/\\[\\s*(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?(?<name>[-\\w\\P{ASCII}]+)\\s*(?:(?<operator>\\W?=)\\s*(?<value>.+?)\\s*(\\s(?<caseSensitive>[iIsS]))?\\s*)?\\]/gu,id:/#(?<name>[-\\w\\P{ASCII}]+)/gu,class:/\\.(?<name>[-\\w\\P{ASCII}]+)/gu,comma:/\\s*,\\s*/g,combinator:/\\s*[\\s>+~]\\s*/g,"pseudo-element":/::(?<name>[-\\w\\P{ASCII}]+)(?:\\((?<argument>*)\\))?/gu,"pseudo-class":/:(?<name>[-\\w\\P{ASCII}]+)(?:\\((?<argument>*)\\))?/gu,universal:/(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?\\*/gu,type:/(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?(?<name>[-\\w\\P{ASCII}]+)/gu},ue=new Set(["combinator","comma"]);var fe=t=>{switch(t){case"pseudo-element":case"pseudo-class":return new RegExp(p[t].source.replace("(?<argument>\\xB6*)","(?<argument>.*)"),"gu");default:return p[t]}};function de(t,e){let n=0,r="";for(;e<t.length;e++){let o=t[e];switch(o){case"(":++n;break;case")":--n;break}if(r+=o,n===0)return r}return r}function me(t,e=p){if(!t)return[];let n=[t];for(let[o,i]of Object.entries(e))for(let s=0;s<n.length;s++){let l=n[s];if(typeof l!="string")continue;i.lastIndex=0;let a=i.exec(l);if(!a)continue;let h=a.index-1,d=[],W=a[0],H=l.slice(0,h+1);H&&d.push(H),d.push({...a.groups,type:o,content:W});let B=l.slice(h+W.length+1);B&&d.push(B),n.splice(s,1,...d)}let r=0;for(let o of n)switch(typeof o){case"string":throw new Error(\`Unexpected sequence \${o} found at index \${r}\`);case"object":r+=o.content.length,o.pos=[r-o.content.length,r],ue.has(o.type)&&(o.content=o.content.trim()||" ");break}return n}var he=/(['"])([^\\\\\\n]+?)\\1/g,pe=/\\\\./g;function G(t,e=p){if(t=t.trim(),t==="")return[];let n=[];t=t.replace(pe,(i,s)=>(n.push({value:i,offset:s}),"\\uE000".repeat(i.length))),t=t.replace(he,(i,s,l,a)=>(n.push({value:i,offset:a}),\`\${s}\${"\\uE001".repeat(l.length)}\${s}\`));{let i=0,s;for(;(s=t.indexOf("(",i))>-1;){let l=de(t,s);n.push({value:l,offset:s}),t=\`\${t.substring(0,s)}(\${"\\xB6".repeat(l.length-2)})\${t.substring(s+l.length)}\`,i=s+l.length}}let r=me(t,e),o=new Set;for(let i of n.reverse())for(let s of r){let{offset:l,value:a}=i;if(!(s.pos[0]<=l&&l+a.length<=s.pos[1]))continue;let{content:h}=s,d=l-s.pos[0];s.content=h.slice(0,d)+a+h.slice(d+a.length),s.content!==h&&o.add(s)}for(let i of o){let s=fe(i.type);if(!s)throw new Error(\`Unknown token type: \${i.type}\`);s.lastIndex=0;let l=s.exec(i.content);if(!l)throw new Error(\`Unable to parse content for \${i.type}: \${i.content}\`);Object.assign(i,l.groups)}return r}function*x(t,e){switch(t.type){case"list":for(let n of t.list)yield*x(n,t);break;case"complex":yield*x(t.left,t),yield*x(t.right,t);break;case"compound":yield*t.list.map(n=>[n,t]);break;default:yield[t,e]}}function y(t){let e;return Array.isArray(t)?e=t:e=[...x(t)].map(([n])=>n),e.map(n=>n.content).join("")}p.combinator=/\\s*(>>>>?|[\\s>+~])\\s*/g;var ye=/\\\\[\\s\\S]/g,ge=t=>t.length<=1?t:((t[0]==='"'||t[0]==="'")&&t.endsWith(t[0])&&(t=t.slice(1,-1)),t.replace(ye,e=>e[1]));function K(t){let e=!0,n=G(t);if(n.length===0)return[[],e];let r=[],o=[r],i=[o],s=[];for(let l of n){switch(l.type){case"combinator":switch(l.content){case">>>":e=!1,s.length&&(r.push(y(s)),s.splice(0)),r=[],o.push(">>>"),o.push(r);continue;case">>>>":e=!1,s.length&&(r.push(y(s)),s.splice(0)),r=[],o.push(">>>>"),o.push(r);continue}break;case"pseudo-element":if(!l.name.startsWith("-p-"))break;e=!1,s.length&&(r.push(y(s)),s.splice(0)),r.push({name:l.name.slice(3),value:ge(l.argument??"")});continue;case"comma":s.length&&(r.push(y(s)),s.splice(0)),r=[],o=[r],i.push(o);continue}s.push(l)}return s.length&&r.push(y(s)),[i,e]}var _={};u(_,{textQuerySelectorAll:()=>S});var we=new Set(["checkbox","image","radio"]),Se=t=>t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement&&!we.has(t.type),be=new Set(["SCRIPT","STYLE"]),w=t=>!be.has(t.nodeName)&&!document.head?.contains(t),D=new WeakMap,J=t=>{for(;t;)D.delete(t),t instanceof ShadowRoot?t=t.host:t=t.parentNode},Y=new WeakSet,Te=new MutationObserver(t=>{for(let e of t)J(e.target)}),g=t=>{let e=D.get(t);if(e||(e={full:"",immediate:[]},!w(t)))return e;let n="";if(Se(t))e.full=t.value,e.immediate.push(t.value),t.addEventListener("input",r=>{J(r.target)},{once:!0,capture:!0});else{for(let r=t.firstChild;r;r=r.nextSibling){if(r.nodeType===Node.TEXT_NODE){e.full+=r.nodeValue??"",n+=r.nodeValue??"";continue}n&&e.immediate.push(n),n="",r.nodeType===Node.ELEMENT_NODE&&(e.full+=g(r).full)}n&&e.immediate.push(n),t instanceof Element&&t.shadowRoot&&(e.full+=g(t.shadowRoot).full),Y.has(t)||(Te.observe(t,{childList:!0,characterData:!0,subtree:!0}),Y.add(t))}return D.set(t,e),e};var S=function*(t,e){let n=!1;for(let r of t.childNodes)if(r instanceof Element&&w(r)){let o;r.shadowRoot?o=S(r.shadowRoot,e):o=S(r,e);for(let i of o)yield i,n=!0}n||t instanceof Element&&w(t)&&g(t).full.includes(e)&&(yield t)};var L={};u(L,{checkVisibility:()=>Pe,pierce:()=>N,pierceAll:()=>Q});var Ee=["hidden","collapse"],Pe=(t,e)=>{if(!t)return e===!1;if(e===void 0)return t;let n=t.nodeType===Node.TEXT_NODE?t.parentElement:t,r=window.getComputedStyle(n),o=r&&!Ee.includes(r.visibility)&&!xe(n);return e===o?t:!1};function xe(t){let e=t.getBoundingClientRect();return e.width===0||e.height===0}var Ne=t=>"shadowRoot"in t&&t.shadowRoot instanceof ShadowRoot;function*N(t){Ne(t)?yield t.shadowRoot:yield t}function*Q(t){t=N(t).next().value,yield t;let e=[document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT)];for(let n of e){let r;for(;r=n.nextNode();)r.shadowRoot&&(yield r.shadowRoot,e.push(document.createTreeWalker(r.shadowRoot,NodeFilter.SHOW_ELEMENT)))}}var j={};u(j,{xpathQuerySelectorAll:()=>$});var $=function*(t,e,n=-1){let o=(t.ownerDocument||document).evaluate(e,t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),i=[],s;for(;(s=o.iterateNext())&&(i.push(s),!(n&&i.length===n)););for(let l=0;l<i.length;l++)s=i[l],yield s,delete i[l]};var Ae=/[-\\w\\P{ASCII}*]/,Z=t=>"querySelectorAll"in t,A=class extends Error{constructor(e,n){super(\`\${e} is not a valid selector: \${n}\`)}},U=class{#e;#r;#n=[];#t=void 0;elements;constructor(e,n,r){this.elements=[e],this.#e=n,this.#r=r,this.#o()}async run(){if(typeof this.#t=="string")switch(this.#t.trimStart()){case":scope":this.#o();break}for(;this.#t!==void 0;this.#o()){let e=this.#t,n=this.#e;typeof e=="string"?e[0]&&Ae.test(e[0])?this.elements=c.flatMap(this.elements,async function*(r){Z(r)&&(yield*r.querySelectorAll(e))}):this.elements=c.flatMap(this.elements,async function*(r){if(!r.parentElement){if(!Z(r))return;yield*r.querySelectorAll(e);return}let o=0;for(let i of r.parentElement.children)if(++o,i===r)break;yield*r.parentElement.querySelectorAll(\`:scope>:nth-child(\${o})\${e}\`)}):this.elements=c.flatMap(this.elements,async function*(r){switch(e.name){case"text":yield*S(r,e.value);break;case"xpath":yield*$(r,e.value);break;case"aria":yield*I(r,e.value);break;default:let o=O.get(e.name);if(!o)throw new A(n,\`Unknown selector type: \${e.name}\`);yield*o.querySelectorAll(r,e.value)}})}}#o(){if(this.#n.length!==0){this.#t=this.#n.shift();return}if(this.#r.length===0){this.#t=void 0;return}let e=this.#r.shift();switch(e){case">>>>":{this.elements=c.flatMap(this.elements,N),this.#o();break}case">>>":{this.elements=c.flatMap(this.elements,Q),this.#o();break}default:this.#n=e,this.#o();break}}},F=class{#e=new WeakMap;calculate(e,n=[]){if(e===null)return n;e instanceof ShadowRoot&&(e=e.host);let r=this.#e.get(e);if(r)return[...r,...n];let o=0;for(let s=e.previousSibling;s;s=s.previousSibling)++o;let i=this.calculate(e.parentNode,[o]);return this.#e.set(e,i),[...i,...n]}},ee=(t,e)=>{if(t.length+e.length===0)return 0;let[n=-1,...r]=t,[o=-1,...i]=e;return n===o?ee(r,i):n<o?-1:1},ve=async function*(t){let e=new Set;for await(let r of t)e.add(r);let n=new F;yield*[...e.values()].map(r=>[r,n.calculate(r)]).sort(([,r],[,o])=>ee(r,o)).map(([r])=>r)},te=function(t,e){let n,r;try{[n,r]=K(e)}catch{return t.querySelectorAll(e)}if(r)return t.querySelectorAll(e);if(n.some(o=>{let i=0;return o.some(s=>(typeof s=="string"?++i:i=0,i>1))}))throw new A(e,"Multiple deep combinators found in sequence.");return ve(c.flatMap(n,o=>{let i=new U(t,e,o);return i.run(),i.elements}))},Ce=async function(t,e){for await(let n of te(t,e))return n;return null};var Ie=Object.freeze({...k,...M,...q,...V,..._,...L,...j,Deferred:f,createFunction:z,createTextContent:g,IntervalPoller:P,isSuitableNodeForTextMatching:w,MutationPoller:T,RAFPoller:E}),ke=Ie;\n/**\n * @license\n * Copyright 2018 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @license\n * Copyright 2024 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @license\n * Copyright 2023 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @license\n * Copyright 2022 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @license\n * Copyright 2020 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n      ${[...this.#Tt].map((e=>`(${e})(module.exports.default);`)).join("")}\n      return module.exports.default;\n    })()`}};class Zr{static async*map(e,t){for await(const r of e)yield await t(r)}static async*flatMap(e,t){for await(const r of e)yield*t(r)}static async collect(e){const t=[];for await(const r of e)t.push(r);return t}static async first(e){for await(const t of e)return t}}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const ei=new Map;function ti(e){let t=e.toString();try{new Function(`(${t})`)}catch{let e="function ";t.startsWith("async ")&&(e=`async ${e}`,t=t.substring(6)),t=`${e}${t}`;try{new Function(`(${t})`)}catch{throw new Error("Passed function cannot be serialized!")}}return t}const ri=(e,t)=>{let r=ti(e);for(const[e,i]of Object.entries(t))r=r.replace(new RegExp(`PLACEHOLDER\\(\\s*(?:'${e}'|"${e}")\\s*\\)`,"g"),`(${i})`);return(e=>{let t=ei.get(e);return t||(t=new Function(`return ${e}`)(),ei.set(e,t),t)})(r)},ii=Symbol("_isElementHandle");
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
var ni=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},si=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});const ai=20;async function*oi(e,t){const r={stack:[],error:void 0,hasError:!1};try{const i=ni(r,await e.evaluateHandle((async(e,t)=>{const r=[];for(;r.length<t;){const t=await e.next();if(t.done)break;r.push(t.value)}return r}),t),!1),n=await i.getProperties(),s=n.values();return ni(r,new tt,!1).defer((()=>{for(const e of s){const t={stack:[],error:void 0,hasError:!1};try{ni(t,e,!1)[Ze]()}catch(e){t.error=e,t.hasError=!0}finally{si(t)}}})),yield*s,0===n.size}catch(e){r.error=e,r.hasError=!0}finally{si(r)}}async function*ci(e){const t={stack:[],error:void 0,hasError:!1};try{const r=ni(t,await e.evaluateHandle((e=>async function*(){yield*e}())),!1);yield*async function*(e){let t=ai;for(;!(yield*oi(e,t));)t<<=1}(r)}catch(e){t.error=e,t.hasError=!0}finally{si(t)}}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var li=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},di=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});class ui{static querySelectorAll;static querySelector;static get _querySelector(){if(this.querySelector)return this.querySelector;if(!this.querySelectorAll)throw new Error("Cannot create default `querySelector`.");return this.querySelector=ri((async(e,t,r)=>{const i=PLACEHOLDER("querySelectorAll")(e,t,r);for await(const e of i)return e;return null}),{querySelectorAll:ti(this.querySelectorAll)})}static get _querySelectorAll(){if(this.querySelectorAll)return this.querySelectorAll;if(!this.querySelector)throw new Error("Cannot create default `querySelectorAll`.");return this.querySelectorAll=ri((async function*(e,t,r){const i=PLACEHOLDER("querySelector"),n=await i(e,t,r);n&&(yield n)}),{querySelector:ti(this.querySelector)})}static async*queryAll(e,t){const r={stack:[],error:void 0,hasError:!1};try{const i=li(r,await e.evaluateHandle(this._querySelectorAll,t,Xr.create((e=>e.puppeteerUtil))),!1);yield*ci(i)}catch(e){r.error=e,r.hasError=!0}finally{di(r)}}static async queryOne(e,t){const r={stack:[],error:void 0,hasError:!1};try{const i=li(r,await e.evaluateHandle(this._querySelector,t,Xr.create((e=>e.puppeteerUtil))),!1);return ii in i?i.move():null}catch(e){r.error=e,r.hasError=!0}finally{di(r)}}static async waitFor(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{let n;const s=li(i,await(async()=>{if(ii in e)return n=e.frame,await n.isolatedRealm().adoptHandle(e);n=e})(),!1),{visible:a=!1,hidden:o=!1,timeout:c,signal:l}=r;try{const e={stack:[],error:void 0,hasError:!1};try{l?.throwIfAborted();const r=li(e,await n.isolatedRealm().waitForFunction((async(e,t,r,i,n)=>{const s=e.createFunction(t),a=await s(i??document,r,e);return e.checkVisibility(a,n)}),{polling:a||o?"raf":"mutation",root:s,timeout:c,signal:l},Xr.create((e=>e.puppeteerUtil)),ti(this._querySelector),t,s,!!a||!o&&void 0),!1);if(l?.aborted)throw l.reason;return ii in r?await n.mainRealm().transferHandle(r):null}catch(t){e.error=t,e.hasError=!0}finally{di(e)}}catch(e){if(!Vt(e))throw e;if("AbortError"===e.name)throw e;throw e.message=`Waiting for selector \`${t}\` failed: ${e.message}`,e}}catch(e){i.error=e,i.hasError=!0}finally{di(i)}}}
/**
 * @license
 * Copyright 2020 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const hi=new Set(["StaticText","InlineTextBox"]),pi=e=>e.replace(/ +/g," ").trim(),fi=/\[\s*(?<attribute>\w+)\s*=\s*(?<quote>"|')(?<value>\\.|.*?(?=\k<quote>))\k<quote>\s*\]/g;class yi extends ui{static querySelector=async(e,t,{ariaQuerySelector:r})=>await r(e,t);static async*queryAll(e,t){const{name:r,role:i}=(e=>{const t={},r=e.replace(fi,((e,r,i,n)=>(r=r.trim(),st((e=>["name","role"].includes(e))(r),`Unknown aria attribute "${r}" in selector`),t[r]=pi(n),"")));return r&&!t.name&&(t.name=pi(r)),t})(t),n=await(async(e,t,r,i)=>{const{nodes:n}=await e.send("Accessibility.queryAXTree",{objectId:t.id,accessibleName:r,role:i});return n.filter((e=>!e.role||!hi.has(e.role.value)))})(e.realm.environment.client,e,r,i);yield*Zr.map(n,(t=>e.realm.adoptBackendNode(t.backendDOMNodeId)))}static queryOne=async(e,t)=>await Zr.first(this.queryAll(e,t))??null}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */const mi=new class{#i=new Map;get(e){const t=this.#i.get(e);return t?t[1]:void 0}register(e,t){st(!this.#i.has(e),`Cannot register over existing handler: ${e}`),st(/^[a-zA-Z]+$/.test(e),"Custom query handler names may only contain [a-zA-Z]"),st(t.queryAll||t.queryOne,"At least one query method must be implemented.");const r=class extends ui{static querySelectorAll=ri(((e,t,r)=>r.customQuerySelectors.get(PLACEHOLDER("name")).querySelectorAll(e,t)),{name:JSON.stringify(e)});static querySelector=ri(((e,t,r)=>r.customQuerySelectors.get(PLACEHOLDER("name")).querySelector(e,t)),{name:JSON.stringify(e)})},i=ri((e=>{e.customQuerySelectors.register(PLACEHOLDER("name"),{queryAll:PLACEHOLDER("queryAll"),queryOne:PLACEHOLDER("queryOne")})}),{name:JSON.stringify(e),queryAll:t.queryAll?ti(t.queryAll):String(void 0),queryOne:t.queryOne?ti(t.queryOne):String(void 0)}).toString();this.#i.set(e,[i,r]),Yr.append(i)}unregister(e){const t=this.#i.get(e);if(!t)throw new Error(`Cannot unregister unknown handler: ${e}`);Yr.pop(t[0]),this.#i.delete(e)}names(){return[...this.#i.keys()]}clear(){for(const[e]of this.#i)Yr.pop(e);this.#i.clear()}};
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class gi extends ui{static querySelectorAll=(e,t,{pQuerySelectorAll:r})=>r(e,t);static querySelector=(e,t,{pQuerySelector:r})=>r(e,t)}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
const wi={aria:yi,pierce:
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class extends ui{static querySelector=(e,t,{pierceQuerySelector:r})=>r(e,t);static querySelectorAll=(e,t,{pierceQuerySelectorAll:r})=>r(e,t)},xpath:
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class extends ui{static querySelectorAll=(e,t,{xpathQuerySelectorAll:r})=>r(e,t);static querySelector=(e,t,{xpathQuerySelectorAll:r})=>{for(const i of r(e,t,1))return i;return null}},text:class extends ui{static querySelectorAll=(e,t,{textQuerySelectorAll:r})=>r(e,t)}},vi=["=","/"];function bi(e){for(const t of[mi.names().map((e=>[e,mi.get(e)])),Object.entries(wi)])for(const[r,i]of t)for(const t of vi){const n=`${r}${t}`;if(e.startsWith(n))return{updatedSelector:e=e.slice(n.length),QueryHandler:i}}return{updatedSelector:e,QueryHandler:gi}}
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var ki=self&&self.__runInitializers||function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},Si=self&&self.__esDecorate||function(e,t,r,i,n,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?i.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var y in i)f[y]="access"===y?{}:i[y];for(var y in i.access)f.access[y]=i.access[y];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[p])("accessor"===c?{get:u.get,set:u.set}:u[l],f);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(u.get=o),(o=a(m.set))&&(u.set=o),(o=a(m.init))&&n.unshift(o)}else(o=a(m))&&("field"===c?n.unshift(o):u[l]=o)}d&&Object.defineProperty(d,i.name,u),h=!0},Ci=self&&self.__addDisposableResource||function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},Ti=self&&self.__disposeResources||function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}return function e(){for(;t.stack.length;){var i=t.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(e,(function(t){return r(t),e()}))}catch(e){r(e)}}if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});let Ei=(()=>{var e,t,r,i,n,s,a,o,c,l,d,u,h,p,f,y,m,g,w,v,b,k,S,C,T,E,I,x,F,R;let _,P,D,M,A,q,O,N,L,B,j,H,$,K,V,W,z,U,G,Q,J,X,Y,Z,ee,te,re,ie,ne,se,ae=Dr,oe=[];return class ce extends ae{static{const le="function"==typeof Symbol&&Symbol.metadata?Object.create(ae[Symbol.metadata]??null):void 0;_=[rr(),(e=ce).bindIsolatedHandle.bind(e)],P=[rr(),(t=ce).bindIsolatedHandle.bind(t)],D=[rr(),(r=ce).bindIsolatedHandle.bind(r)],M=[rr(),(i=ce).bindIsolatedHandle.bind(i)],A=[rr(),(n=ce).bindIsolatedHandle.bind(n)],q=[rr(),(s=ce).bindIsolatedHandle.bind(s)],O=[rr(),(a=ce).bindIsolatedHandle.bind(a)],N=[rr(),(o=ce).bindIsolatedHandle.bind(o)],L=[rr(),(c=ce).bindIsolatedHandle.bind(c)],B=[rr(),(l=ce).bindIsolatedHandle.bind(l)],j=[rr(),(d=ce).bindIsolatedHandle.bind(d)],H=[rr(),(u=ce).bindIsolatedHandle.bind(u)],$=[rr(),(h=ce).bindIsolatedHandle.bind(h)],K=[rr(),(p=ce).bindIsolatedHandle.bind(p)],V=[rr(),(f=ce).bindIsolatedHandle.bind(f)],W=[rr(),(y=ce).bindIsolatedHandle.bind(y)],z=[rr(),(m=ce).bindIsolatedHandle.bind(m)],U=[rr(),(g=ce).bindIsolatedHandle.bind(g)],G=[rr(),(w=ce).bindIsolatedHandle.bind(w)],Q=[rr(),(v=ce).bindIsolatedHandle.bind(v)],J=[rr(),(b=ce).bindIsolatedHandle.bind(b)],X=[rr(),(k=ce).bindIsolatedHandle.bind(k)],Y=[rr(),(S=ce).bindIsolatedHandle.bind(S)],Z=[rr(),(C=ce).bindIsolatedHandle.bind(C)],ee=[rr(),(T=ce).bindIsolatedHandle.bind(T)],te=[rr(),(E=ce).bindIsolatedHandle.bind(E)],re=[rr(),(I=ce).bindIsolatedHandle.bind(I)],ie=[rr(),(x=ce).bindIsolatedHandle.bind(x)],ne=[rr(),(F=ce).bindIsolatedHandle.bind(F)],se=[rr(),(R=ce).bindIsolatedHandle.bind(R)],Si(this,null,_,{kind:"method",name:"getProperty",static:!1,private:!1,access:{has:e=>"getProperty"in e,get:e=>e.getProperty},metadata:le},null,oe),Si(this,null,P,{kind:"method",name:"getProperties",static:!1,private:!1,access:{has:e=>"getProperties"in e,get:e=>e.getProperties},metadata:le},null,oe),Si(this,null,D,{kind:"method",name:"jsonValue",static:!1,private:!1,access:{has:e=>"jsonValue"in e,get:e=>e.jsonValue},metadata:le},null,oe),Si(this,null,M,{kind:"method",name:"$",static:!1,private:!1,access:{has:e=>"$"in e,get:e=>e.$},metadata:le},null,oe),Si(this,null,A,{kind:"method",name:"$$",static:!1,private:!1,access:{has:e=>"$$"in e,get:e=>e.$$},metadata:le},null,oe),Si(this,null,q,{kind:"method",name:"waitForSelector",static:!1,private:!1,access:{has:e=>"waitForSelector"in e,get:e=>e.waitForSelector},metadata:le},null,oe),Si(this,null,O,{kind:"method",name:"isVisible",static:!1,private:!1,access:{has:e=>"isVisible"in e,get:e=>e.isVisible},metadata:le},null,oe),Si(this,null,N,{kind:"method",name:"isHidden",static:!1,private:!1,access:{has:e=>"isHidden"in e,get:e=>e.isHidden},metadata:le},null,oe),Si(this,null,L,{kind:"method",name:"toElement",static:!1,private:!1,access:{has:e=>"toElement"in e,get:e=>e.toElement},metadata:le},null,oe),Si(this,null,B,{kind:"method",name:"clickablePoint",static:!1,private:!1,access:{has:e=>"clickablePoint"in e,get:e=>e.clickablePoint},metadata:le},null,oe),Si(this,null,j,{kind:"method",name:"hover",static:!1,private:!1,access:{has:e=>"hover"in e,get:e=>e.hover},metadata:le},null,oe),Si(this,null,H,{kind:"method",name:"click",static:!1,private:!1,access:{has:e=>"click"in e,get:e=>e.click},metadata:le},null,oe),Si(this,null,$,{kind:"method",name:"drag",static:!1,private:!1,access:{has:e=>"drag"in e,get:e=>e.drag},metadata:le},null,oe),Si(this,null,K,{kind:"method",name:"dragEnter",static:!1,private:!1,access:{has:e=>"dragEnter"in e,get:e=>e.dragEnter},metadata:le},null,oe),Si(this,null,V,{kind:"method",name:"dragOver",static:!1,private:!1,access:{has:e=>"dragOver"in e,get:e=>e.dragOver},metadata:le},null,oe),Si(this,null,W,{kind:"method",name:"drop",static:!1,private:!1,access:{has:e=>"drop"in e,get:e=>e.drop},metadata:le},null,oe),Si(this,null,z,{kind:"method",name:"dragAndDrop",static:!1,private:!1,access:{has:e=>"dragAndDrop"in e,get:e=>e.dragAndDrop},metadata:le},null,oe),Si(this,null,U,{kind:"method",name:"select",static:!1,private:!1,access:{has:e=>"select"in e,get:e=>e.select},metadata:le},null,oe),Si(this,null,G,{kind:"method",name:"tap",static:!1,private:!1,access:{has:e=>"tap"in e,get:e=>e.tap},metadata:le},null,oe),Si(this,null,Q,{kind:"method",name:"touchStart",static:!1,private:!1,access:{has:e=>"touchStart"in e,get:e=>e.touchStart},metadata:le},null,oe),Si(this,null,J,{kind:"method",name:"touchMove",static:!1,private:!1,access:{has:e=>"touchMove"in e,get:e=>e.touchMove},metadata:le},null,oe),Si(this,null,X,{kind:"method",name:"touchEnd",static:!1,private:!1,access:{has:e=>"touchEnd"in e,get:e=>e.touchEnd},metadata:le},null,oe),Si(this,null,Y,{kind:"method",name:"focus",static:!1,private:!1,access:{has:e=>"focus"in e,get:e=>e.focus},metadata:le},null,oe),Si(this,null,Z,{kind:"method",name:"type",static:!1,private:!1,access:{has:e=>"type"in e,get:e=>e.type},metadata:le},null,oe),Si(this,null,ee,{kind:"method",name:"press",static:!1,private:!1,access:{has:e=>"press"in e,get:e=>e.press},metadata:le},null,oe),Si(this,null,te,{kind:"method",name:"boundingBox",static:!1,private:!1,access:{has:e=>"boundingBox"in e,get:e=>e.boundingBox},metadata:le},null,oe),Si(this,null,re,{kind:"method",name:"boxModel",static:!1,private:!1,access:{has:e=>"boxModel"in e,get:e=>e.boxModel},metadata:le},null,oe),Si(this,null,ie,{kind:"method",name:"screenshot",static:!1,private:!1,access:{has:e=>"screenshot"in e,get:e=>e.screenshot},metadata:le},null,oe),Si(this,null,ne,{kind:"method",name:"isIntersectingViewport",static:!1,private:!1,access:{has:e=>"isIntersectingViewport"in e,get:e=>e.isIntersectingViewport},metadata:le},null,oe),Si(this,null,se,{kind:"method",name:"scrollIntoView",static:!1,private:!1,access:{has:e=>"scrollIntoView"in e,get:e=>e.scrollIntoView},metadata:le},null,oe),le&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:le})}static bindIsolatedHandle(e,t){return async function(...t){const r={stack:[],error:void 0,hasError:!1};try{if(this.realm===this.frame.isolatedRealm())return await e.call(this,...t);const i=Ci(r,await this.frame.isolatedRealm().adoptHandle(this),!1),n=await e.call(i,...t);return n===i?this:n instanceof Dr?await this.realm.transferHandle(n):(Array.isArray(n)&&await Promise.all(n.map((async(e,t,r)=>{e instanceof Dr&&(r[t]=await this.realm.transferHandle(e))}))),n instanceof Map&&await Promise.all([...n.entries()].map((async([e,t])=>{t instanceof Dr&&n.set(e,await this.realm.transferHandle(t))}))),n)}catch(e){r.error=e,r.hasError=!0}finally{Ti(r)}}}handle=void ki(this,oe);constructor(e){super(),this.handle=e,this[ii]=!0}get id(){return this.handle.id}get disposed(){return this.handle.disposed}async getProperty(e){return await this.handle.getProperty(e)}async getProperties(){return await this.handle.getProperties()}async evaluate(e,...t){return e=bt(this.evaluate.name,e),await this.handle.evaluate(e,...t)}async evaluateHandle(e,...t){return e=bt(this.evaluateHandle.name,e),await this.handle.evaluateHandle(e,...t)}async jsonValue(){return await this.handle.jsonValue()}toString(){return this.handle.toString()}remoteObject(){return this.handle.remoteObject()}dispose(){return this.handle.dispose()}asElement(){return this}async $(e){const{updatedSelector:t,QueryHandler:r}=bi(e);return await r.queryOne(this,t)}async $$(e){const{updatedSelector:t,QueryHandler:r}=bi(e);return await Zr.collect(r.queryAll(this,t))}async $eval(e,t,...r){const i={stack:[],error:void 0,hasError:!1};try{t=bt(this.$eval.name,t);const n=Ci(i,await this.$(e),!1);if(!n)throw new Error(`Error: failed to find element matching selector "${e}"`);return await n.evaluate(t,...r)}catch(e){i.error=e,i.hasError=!0}finally{Ti(i)}}async $$eval(e,t,...r){const i={stack:[],error:void 0,hasError:!1};try{t=bt(this.$$eval.name,t);const n=await this.$$(e),s=Ci(i,await this.evaluateHandle(((e,...t)=>t),...n),!1),[a]=await Promise.all([s.evaluate(t,...r),...n.map((e=>e.dispose()))]);return a}catch(e){i.error=e,i.hasError=!0}finally{Ti(i)}}async waitForSelector(e,t={}){const{updatedSelector:r,QueryHandler:i}=bi(e);return await i.waitFor(this,r,t)}async#It(e){return await this.evaluate((async(e,t,r)=>Boolean(t.checkVisibility(e,r))),Xr.create((e=>e.puppeteerUtil)),e)}async isVisible(){return await this.#It(!0)}async isHidden(){return await this.#It(!1)}async toElement(e){const t=await this.evaluate(((e,t)=>e.nodeName===t.toUpperCase()),e);if(!t)throw new Error(`Element is not a(n) \`${e}\` element`);return this}async clickablePoint(e){const t=await this.#xt();if(!t)throw new Error("Node is either not clickable or not an Element");return void 0!==e?{x:t.x+e.x,y:t.y+e.y}:{x:t.x+t.width/2,y:t.y+t.height/2}}async hover(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this.frame.page().mouse.move(e,t)}async click(e={}){await this.scrollIntoViewIfNeeded();const{x:t,y:r}=await this.clickablePoint(e.offset);await this.frame.page().mouse.click(t,r,e)}async drag(e){await this.scrollIntoViewIfNeeded();const t=this.frame.page();if(t.isDragInterceptionEnabled()){const r=await this.clickablePoint();return e instanceof ce&&(e=await e.clickablePoint()),await t.mouse.drag(r,e)}try{t._isDragging||(t._isDragging=!0,await this.hover(),await t.mouse.down()),e instanceof ce?await e.hover():await t.mouse.move(e.x,e.y)}catch(e){throw t._isDragging=!1,e}}async dragEnter(e={items:[],dragOperationsMask:1}){const t=this.frame.page();await this.scrollIntoViewIfNeeded();const r=await this.clickablePoint();await t.mouse.dragEnter(r,e)}async dragOver(e={items:[],dragOperationsMask:1}){const t=this.frame.page();await this.scrollIntoViewIfNeeded();const r=await this.clickablePoint();await t.mouse.dragOver(r,e)}async drop(e={items:[],dragOperationsMask:1}){const t=this.frame.page();if("items"in e){await this.scrollIntoViewIfNeeded();const r=await this.clickablePoint();await t.mouse.drop(r,e)}else await e.drag(this),t._isDragging=!1,await t.mouse.up()}async dragAndDrop(e,t){const r=this.frame.page();st(r.isDragInterceptionEnabled(),"Drag Interception is not enabled!"),await this.scrollIntoViewIfNeeded();const i=await this.clickablePoint(),n=await e.clickablePoint();await r.mouse.dragAndDrop(i,n,t)}async select(...e){for(const t of e)st(kt(t),'Values must be strings. Found value "'+t+'" of type "'+typeof t+'"');return await this.evaluate(((e,t)=>{const r=new Set(t);if(!(e instanceof HTMLSelectElement))throw new Error("Element is not a <select> element.");const i=new Set;if(e.multiple)for(const t of e.options)t.selected=r.has(t.value),t.selected&&i.add(t.value);else{for(const t of e.options)t.selected=!1;for(const t of e.options)if(r.has(t.value)){t.selected=!0,i.add(t.value);break}}return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),[...i.values()]}),e)}async tap(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this.frame.page().touchscreen.tap(e,t)}async touchStart(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this.frame.page().touchscreen.touchStart(e,t)}async touchMove(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this.frame.page().touchscreen.touchMove(e,t)}async touchEnd(){await this.scrollIntoViewIfNeeded(),await this.frame.page().touchscreen.touchEnd()}async focus(){await this.evaluate((e=>{if(!(e instanceof HTMLElement))throw new Error("Cannot focus non-HTMLElement");return e.focus()}))}async type(e,t){await this.focus(),await this.frame.page().keyboard.type(e,t)}async press(e,t){await this.focus(),await this.frame.page().keyboard.press(e,t)}async#xt(){const e=await this.evaluate((e=>e instanceof Element?[...e.getClientRects()].map((e=>({x:e.x,y:e.y,width:e.width,height:e.height}))):null));if(!e?.length)return null;await this.#Ft(e);let t,r=this.frame;for(;t=r?.parentFrame();){const i={stack:[],error:void 0,hasError:!1};try{const n=Ci(i,await r.frameElement(),!1);if(!n)throw new Error("Unsupported frame type");const s=await n.evaluate((e=>{if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return{left:t.left+parseInt(r.paddingLeft,10)+parseInt(r.borderLeftWidth,10),top:t.top+parseInt(r.paddingTop,10)+parseInt(r.borderTopWidth,10)}}));if(!s)return null;for(const t of e)t.x+=s.left,t.y+=s.top;await n.#Ft(e),r=t}catch(e){i.error=e,i.hasError=!0}finally{Ti(i)}}const i=e.find((e=>e.width>=1&&e.height>=1));return i?{x:i.x,y:i.y,height:i.height,width:i.width}:null}async#Ft(e){const{documentWidth:t,documentHeight:r}=await this.frame.isolatedRealm().evaluate((()=>({documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight})));for(const i of e)Ii(i,t,r)}async boundingBox(){const e=await this.evaluate((e=>{if(!(e instanceof Element))return null;if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height}}));if(!e)return null;const t=await this.#Rt();return t?{x:e.x+t.x,y:e.y+t.y,height:e.height,width:e.width}:null}async boxModel(){const e=await this.evaluate((e=>{if(!(e instanceof Element))return null;if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect(),r=window.getComputedStyle(e),i={padding:{left:parseInt(r.paddingLeft,10),top:parseInt(r.paddingTop,10),right:parseInt(r.paddingRight,10),bottom:parseInt(r.paddingBottom,10)},margin:{left:-parseInt(r.marginLeft,10),top:-parseInt(r.marginTop,10),right:-parseInt(r.marginRight,10),bottom:-parseInt(r.marginBottom,10)},border:{left:parseInt(r.borderLeft,10),top:parseInt(r.borderTop,10),right:parseInt(r.borderRight,10),bottom:parseInt(r.borderBottom,10)}},n=[{x:t.left,y:t.top},{x:t.left+t.width,y:t.top},{x:t.left+t.width,y:t.top+t.bottom},{x:t.left,y:t.top+t.bottom}],s=a(n,i.border);return{content:a(s,i.padding),padding:s,border:n,margin:a(n,i.margin),width:t.width,height:t.height};function a(e,t){return[{x:e[0].x+t.left,y:e[0].y+t.top},{x:e[1].x-t.right,y:e[1].y+t.top},{x:e[2].x-t.right,y:e[2].y-t.bottom},{x:e[3].x+t.left,y:e[3].y-t.bottom}]}}));if(!e)return null;const t=await this.#Rt();if(!t)return null;for(const r of["content","padding","border","margin"])for(const i of e[r])i.x+=t.x,i.y+=t.y;return e}async#Rt(){const e={x:0,y:0};let t,r=this.frame;for(;t=r?.parentFrame();){const i={stack:[],error:void 0,hasError:!1};try{const n=Ci(i,await r.frameElement(),!1);if(!n)throw new Error("Unsupported frame type");const s=await n.evaluate((e=>{if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return{left:t.left+parseInt(r.paddingLeft,10)+parseInt(r.borderLeftWidth,10),top:t.top+parseInt(r.paddingTop,10)+parseInt(r.borderTopWidth,10)}}));if(!s)return null;e.x+=s.left,e.y+=s.top,r=t}catch(e){i.error=e,i.hasError=!0}finally{Ti(i)}}return e}async screenshot(e={}){const{scrollIntoView:t=!0}=e;let r=await this.#_t();const i=this.frame.page();t&&(await this.scrollIntoViewIfNeeded(),r=await this.#_t());const[n,s]=await this.evaluate((()=>{if(!window.visualViewport)throw new Error("window.visualViewport is not supported.");return[window.visualViewport.pageLeft,window.visualViewport.pageTop]}));return r.x+=n,r.y+=s,await i.screenshot({...e,clip:r})}async#_t(){const e=await this.boundingBox();return st(e,"Node is either not visible or not an HTMLElement"),st(0!==e.width,"Node has 0 width."),st(0!==e.height,"Node has 0 height."),e}async assertConnectedElement(){const e=await this.evaluate((async e=>e.isConnected?e.nodeType!==Node.ELEMENT_NODE?"Node is not of type HTMLElement":void 0:"Node is detached from document"));if(e)throw new Error(e)}async scrollIntoViewIfNeeded(){await this.isIntersectingViewport({threshold:1})||await this.scrollIntoView()}async isIntersectingViewport(e={}){const t={stack:[],error:void 0,hasError:!1};try{await this.assertConnectedElement();const r=await this.#Pt(),i=Ci(t,r&&await r.#Dt(),!1);return await(i??this).evaluate((async(e,t)=>{const r=await new Promise((t=>{const r=new IntersectionObserver((e=>{t(e[0].intersectionRatio),r.disconnect()}));r.observe(e)}));return 1===t?1===r:r>t}),e.threshold??0)}catch(e){t.error=e,t.hasError=!0}finally{Ti(t)}}async scrollIntoView(){await this.assertConnectedElement(),await this.evaluate((async e=>{e.scrollIntoView({block:"center",inline:"center",behavior:"instant"})}))}async#Pt(){return await this.evaluate((e=>e instanceof SVGElement))?this:null}async#Dt(){return await this.evaluateHandle((e=>e instanceof SVGSVGElement?e:e.ownerSVGElement))}}})();function Ii(e,t,r){e.width=Math.max(e.x>=0?Math.min(t-e.x,e.width):Math.min(t,e.width+e.x),0),e.height=Math.max(e.y>=0?Math.min(r-e.y,e.height):Math.min(r,e.height+e.y),0)}
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */function xi(e){let t,r;if(e.exception){if(!("object"===e.exception.type&&"error"===e.exception.subtype||e.exception.objectId))return Ri(e.exception);{const i=Fi(e);t=i.name,r=i.message}}else t="Error",r=e.text;const i=r.split("\n").length,n=new Error(r);n.name=t;const s=n.stack.split("\n"),a=s.splice(0,i);if(s.shift(),e.stackTrace&&s.length<Error.stackTraceLimit)for(const t of e.stackTrace.callFrames.reverse()){if(vt.isPuppeteerURL(t.url)&&t.url!==vt.INTERNAL_URL){const e=vt.parse(t.url);s.unshift(`    at ${t.functionName||e.functionName} (${e.functionName} at ${e.siteString}, <anonymous>:${t.lineNumber}:${t.columnNumber})`)}else s.push(`    at ${t.functionName||"<anonymous>"} (${t.url}:${t.lineNumber}:${t.columnNumber})`);if(s.length>=Error.stackTraceLimit)break}return n.stack=[...a,...s].join("\n"),n}const Fi=e=>{let t,r="";const i=e.exception?.description?.split("\n    at ")??[],n=Math.min(e.stackTrace?.callFrames.length??0,i.length-1);return i.splice(-n,n),e.exception?.className&&(r=e.exception.className),t=i.join("\n"),r&&t.startsWith(`${r}: `)&&(t=t.slice(r.length+2)),{message:t,name:r}};function Ri(e){if(st(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue){if("bigint"===e.type)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value}function _i(e,t){const r=globalThis[t];"PuppeteerBinding"!==r[Symbol.toStringTag]&&(Object.assign(globalThis,{[t](...i){const n=globalThis[t];n.args??=new Map,n.callbacks??=new Map;const s=(n.lastSeq??0)+1;return n.lastSeq=s,n.args.set(s,i),r(JSON.stringify({type:e,name:t,seq:s,args:i,isTrivial:!i.some((e=>e instanceof Node))})),new Promise(((e,t)=>{n.callbacks.set(s,{resolve(t){n.args.delete(s),e(t)},reject(e){n.args.delete(s),t(e)}})}))}}),globalThis[t][Symbol.toStringTag]="PuppeteerBinding")}
/**
 * @license
 * Copyright 2019 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */
class Pi extends Dr{#e=!1;#Mt;#At;constructor(e,t){super(),this.#At=e,this.#Mt=t}get disposed(){return this.#e}get realm(){return this.#At}get client(){return this.realm.environment.client}async jsonValue(){if(!this.#Mt.objectId)return Ri(this.#Mt);const e=await this.evaluate((e=>e));if(void 0===e)throw new Error("Could not serialize referenced object");return e}asElement(){return null}async dispose(){this.#e||(this.#e=!0,await Di(this.client,this.#Mt))}toString(){if(!this.#Mt.objectId)return"JSHandle:"+Ri(this.#Mt);return"JSHandle@"+(this.#Mt.subtype||this.#Mt.type)}get id(){return this.#Mt.objectId}remoteObject(){return this.#Mt}}async function Di(e,t){t.objectId&&await e.send("Runtime.releaseObject",{objectId:t.objectId}).catch((e=>{gt(e)}))}
/**
 * @license
 * Copyright 2019 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */var Mi=self&&self.__runInitializers||function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},Ai=self&&self.__esDecorate||function(e,t,r,i,n,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?i.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var y in i)f[y]="access"===y?{}:i[y];for(var y in i.access)f.access[y]=i.access[y];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[p])("accessor"===c?{get:u.get,set:u.set}:u[l],f);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(u.get=o),(o=a(m.set))&&(u.set=o),(o=a(m.init))&&n.unshift(o)}else(o=a(m))&&("field"===c?n.unshift(o):u[l]=o)}d&&Object.defineProperty(d,i.name,u),h=!0};let qi=(()=>{var e,t;let r,i,n,s,a=Ei,o=[];return class extends a{static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;r=[rr()],i=[rr(),(e=Ei).bindIsolatedHandle.bind(e)],n=[rr(),(t=Ei).bindIsolatedHandle.bind(t)],s=[rr()],Ai(this,null,r,{kind:"method",name:"contentFrame",static:!1,private:!1,access:{has:e=>"contentFrame"in e,get:e=>e.contentFrame},metadata:c},null,o),Ai(this,null,i,{kind:"method",name:"scrollIntoView",static:!1,private:!1,access:{has:e=>"scrollIntoView"in e,get:e=>e.scrollIntoView},metadata:c},null,o),Ai(this,null,n,{kind:"method",name:"uploadFile",static:!1,private:!1,access:{has:e=>"uploadFile"in e,get:e=>e.uploadFile},metadata:c},null,o),Ai(this,null,s,{kind:"method",name:"autofill",static:!1,private:!1,access:{has:e=>"autofill"in e,get:e=>e.autofill},metadata:c},null,o),c&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})}constructor(e,t){super(new Pi(e,t)),Mi(this,o)}get realm(){return this.handle.realm}get client(){return this.handle.client}remoteObject(){return this.handle.remoteObject()}get#qt(){return this.frame._frameManager}get frame(){return this.realm.environment}async contentFrame(){const e=await this.client.send("DOM.describeNode",{objectId:this.id});return"string"!=typeof e.node.frameId?null:this.#qt.frame(e.node.frameId)}async scrollIntoView(){await this.assertConnectedElement();try{await this.client.send("DOM.scrollIntoViewIfNeeded",{objectId:this.id})}catch(e){gt(e),await super.scrollIntoView()}}async uploadFile(...e){const t=await this.evaluate((e=>e.multiple));let r;st(e.length<=1||t,"Multiple file uploads only work with <input type=file multiple>");try{r=await import("path")}catch(e){if(e instanceof TypeError)throw new Error("JSHandle#uploadFile can only be used in Node-like environments.");throw e}const i=e.map((e=>r.win32.isAbsolute(e)||r.posix.isAbsolute(e)?e:r.resolve(e)));if(0===i.length)return void await this.evaluate((e=>{e.files=(new DataTransfer).files,e.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}));const{node:{backendNodeId:n}}=await this.client.send("DOM.describeNode",{objectId:this.id});await this.client.send("DOM.setFileInputFiles",{objectId:this.id,files:i,backendNodeId:n})}async autofill(e){const t=(await this.client.send("DOM.describeNode",{objectId:this.handle.id})).node.backendNodeId,r=this.frame._id;await this.client.send("Autofill.trigger",{fieldId:t,frameId:r,card:e.creditCard})}}})();
/**
 * @license
 * Copyright 2017 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */class Oi{_client;_world;_contextId;_contextName;constructor(e,t,r){this._client=e,this._world=r,this._contextId=t.id,t.name&&(this._contextName=t.name)}#Ot=!1;#Nt;get puppeteerUtil(){let e=Promise.resolve();return this.#Ot||(e=Promise.all([this.#Lt(new qr("__ariaQuerySelector",yi.queryOne)),this.#Lt(new qr("__ariaQuerySelectorAll",(async(e,t)=>{const r=yi.queryAll(e,t);return await e.realm.evaluateHandle(((...e)=>e),...await Zr.collect(r))})))]),this.#Ot=!0),Yr.inject((t=>{this.#Nt&&this.#Nt.then((e=>{e.dispose()})),this.#Nt=e.then((()=>this.evaluateHandle(t)))}),!this.#Nt),this.#Nt}async#Lt(e){try{this._world&&(this._world._bindings.set(e.name,e),await this._world._addBindingToContext(this,e.name))}catch{}}async evaluate(e,...t){return await this.#Bt(!0,e,...t)}async evaluateHandle(e,...t){return await this.#Bt(!1,e,...t)}async#Bt(e,t,...r){const i=`//# sourceURL=${(e=>{if(Object.prototype.hasOwnProperty.call(e,wt))return e[wt]})(t)?.toString()??vt.INTERNAL_URL}`;if(kt(t)){const r=this._contextId,n=t,s=_t.test(n)?n:`${n}\n${i}\n`,{exceptionDetails:a,result:o}=await this._client.send("Runtime.evaluate",{expression:s,contextId:r,returnByValue:e,await